alwaysApply: true

## Ownership

- **docs/** owns: canonical truth (full architecture, design system, module behavior, implementations).
- **.cursor/** owns: operational guidance (rules, concise summaries, pointers to docs).
- **Rule:** `.cursor/architecture/*` must not contain unique facts that do not exist in `docs/`; only summaries and links.

## General Development Rules

- Prefer server components; add `'use client'` only when hooks/DOM APIs are needed.
- Follow TypeScript strictness; avoid `any`; infer types from Zod schemas where possible.
- Keep components small and composable; separate containers (logic) from presenters (UI).
- Use feature modules for domain logic; keep shared pieces in `components/common` or `components/shared`.
- Forms are schema-first (Zod) and config-driven; managers handle logic, renderers handle UI.
- State changes go through Zustand slice actions; respect mode (create/edit/view) and read-only states.
- API interactions go through client API helpers → Next.js `/ui-api` routes → backend; keep routes thin.
- Styling: use Tailwind + theme tokens; dark theme only; avoid hardcoded colors.

## Context map

- What to load per area: `.cursor/CONTEXT_MAP.md`

## Rule Files

- Components: `.cursor/components.mdc`
- State management: `.cursor/state-management.mdc`
- Forms: `.cursor/forms.mdc`
- API: `.cursor/api.mdc`
- Styling: `.cursor/styling.mdc`
- Modules: `.cursor/modules.mdc`
- Figma ↔ code mapping: `.cursor/figma-mapping.mdc`

## Architecture Docs

- Environment: `.cursor/architecture/ENVIRONMENT.md`
- Auth0 env behavior: `.cursor/architecture/AUTH0_ENV.md`
- Observability: `.cursor/architecture/OBSERVABILITY.md`
- In-app notifications (notify): `.cursor/architecture/IN_APP_NOTIFICATIONS.md`
- Notification center (panel/store): `.cursor/architecture/NOTIFICATION_CENTER.md`
- Overview: `.cursor/architecture/ARCHITECTURE_OVERVIEW.md`
- Components: `.cursor/architecture/COMPONENT_ARCHITECTURE.md`
- State: `.cursor/architecture/STATE_MANAGEMENT.md`
- Forms: `.cursor/architecture/FORM_ARCHITECTURE.md`
- API: `.cursor/architecture/API_ARCHITECTURE.md`
- Theming: `.cursor/architecture/THEMING_ARCHITECTURE.md`
- Modules: `.cursor/architecture/MODULE_ARCHITECTURE.md`
