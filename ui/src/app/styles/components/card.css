/* ================== Card/container utilities ================== */
/* Figma card design - matches design system specifications */
.card-dark {
  display: flex;
  flex-direction: column;
  gap: var(--unit-x9);
  border-radius: var(--radius-xl);
  border: 1px solid transparent;
  background: var(--card-bg-dark);
  background-clip: padding-box;
  padding-top: var(--unit-x4);
  padding-bottom: var(--unit-x6);
  padding-left: var(--unit-x4);
  padding-right: var(--unit-x4);
  box-shadow: var(--card-shadow-dark);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  position: relative;
  transition: all var(--duration-medium) var(--easing-standard);

  &::before {
    content: '';
    position: absolute;
    inset: 0;
    padding: 1px;
    border-radius: var(--radius-xl);
    background: linear-gradient(180deg, var(--card-border-gradient-start) 0%, var(--card-border-gradient-end) 100%);
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    transition: all var(--duration-medium) var(--easing-standard);
  }
}

.card-dark:hover {
  /* Enhanced shadow for more depth on hover */
  box-shadow: var(--card-shadow-hover);
}

/* Error state modifier - overrides gradient border with red */
.card-dark-error::before {
  background: linear-gradient(180deg, var(--card-border-error-start) 0%, var(--card-border-error-end) 100%);
}

/* Selected state modifier - overrides gradient border with primary/orange */
.card-dark-selected::before {
  background: linear-gradient(180deg, var(--card-border-selected-start) 0%, var(--card-border-selected-end) 100%);
}

/* Outline card - simple solid border, no shadow, semi-transparent background */
/* Used for pipeline overview cards (Source, Transformation, Sink sections) */
.card-outline {
  display: flex;
  flex-direction: column;
  border-radius: var(--radius-xl);
  border: 1px solid var(--card-outline-border);
  background: var(--card-outline-bg);
  transition: all var(--duration-medium) var(--easing-standard);
}

.card-outline:hover {
  border-color: var(--card-outline-border-hover);
  background: var(--card-outline-bg-hover);
}

/* Error state for outline cards */
.card-outline-error {
  border-color: var(--card-border-error-start);
}

/* Selected state for outline cards */
.card-outline-selected {
  border-color: var(--card-border-selected-start);
}

.card {
  border-radius: var(--radius-xl);
  border: 1px solid var(--card-border);
  background: var(--card-bg);
}

.card:hover {
  box-shadow: var(--surface-shadow-overlay);
}

.card-regular {
  background: var(--card-bg-elevated);
  border: 1px solid transparent;
  background-clip: padding-box;
  position: relative;
  transition: all var(--duration-medium) var(--easing-standard);

  &::before {
    content: '';
    position: absolute;
    inset: 0;
    padding: 1px;
    border-radius: var(--radius-xl);
    background: linear-gradient(180deg, var(--card-border-warm-start) 0%, var(--card-border-warm-end) 100%);
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    transition: all var(--duration-medium) var(--easing-standard);
  }

  box-shadow: var(--card-shadow);
}

.card-regular:hover {
  /* Enhanced shadow for more depth */
  box-shadow: var(--card-shadow-hover);
}

.card-elevated {
  background: var(--card-bg-elevated);
  border: 1px solid transparent;
  background-clip: padding-box;
  position: relative;
  transition: all var(--duration-medium) var(--easing-standard);

  &::before {
    content: '';
    position: absolute;
    inset: 0;
    padding: 1px;
    border-radius: var(--radius-xl);
    background: linear-gradient(180deg, var(--card-border-warm-start) 0%, var(--card-border-warm-end) 100%);
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    transition: all var(--duration-medium) var(--easing-standard);
  }

  box-shadow: var(--card-shadow);
}

.card-elevated:hover {
  /* Slightly lighter background gradient for subtle prominence */
  background: var(--card-bg-elevated-hover);

  /* Enhanced shadow for more depth */
  box-shadow: var(--card-shadow-hover);

  &::before {
    /* More pronounced border gradient */
    background: linear-gradient(180deg, var(--card-border-hover-warm) 0%, var(--card-border-hover-warm) 100%);
  }
}

.card-elevated-subtle {
  background: var(--card-bg-subtle);
  border: 1px solid transparent;
  background-clip: padding-box;
  position: relative;
  transition: all var(--duration-medium) var(--easing-standard);

  &::before {
    content: '';
    position: absolute;
    inset: 0;
    padding: 1px;
    border-radius: var(--radius-xl);
    background: linear-gradient(180deg, var(--card-border-cool-start) 0%, var(--card-border-cool-end) 100%);
    -webkit-mask:
      linear-gradient(#fff 0 0) content-box,
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    transition: all var(--duration-medium) var(--easing-standard);
  }

  box-shadow: var(--card-shadow);
}

.card-elevated-subtle:hover {
  /* Slightly lighter background for subtle prominence */
  background: var(--card-bg-subtle-hover);

  /* Enhanced shadow for more depth */
  box-shadow: var(--card-shadow-hover);

  &::before {
    /* More pronounced blue border gradient */
    background: linear-gradient(180deg, var(--card-border-hover-cool) 0%, var(--card-border-cool-start) 100%);
  }
}

/* Active state for selected cards */
.card:active {
  box-shadow: var(--surface-shadow-overlay);
  position: relative;
}

.card:active:before {
  content: '';
  position: absolute;
  inset: -3px;
  border-radius: 14px;
  padding: 1px;
  background: var(--card-active-glow);
  -webkit-mask:
    linear-gradient(#fff 0 0) content-box,
    linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

/* Configuration card style */
.feedback-card {
  border-radius: var(--radius-xl);
  border: 1px solid var(--card-feedback-border);
  background: var(--card-feedback-bg);
  box-shadow: var(--card-feedback-shadow);
  backdrop-filter: blur(10px);
}

.feedback-card:hover {
  border-color: var(--card-feedback-border-hover);
  background: var(--card-feedback-bg-hover);
  box-shadow: var(--card-feedback-shadow-hover);
}

/* Content card style */
.content-card {
  border-radius: var(--radius-xl);
  border: 1px solid var(--card-content-border);
  background: var(--card-content-bg);
  box-shadow: var(--card-content-shadow);
}

.content-card:hover {
  background: var(--card-content-bg-hover);
  box-shadow: var(--card-content-shadow-hover);
  border-color: var(--card-content-border-hover);
}
