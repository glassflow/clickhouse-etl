(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8948],{253:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let a=(0,r(3747).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},3747:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var a=r(2477);let n=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,t)=>{let{color:r="currentColor",size:c=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:s="",children:u,iconNode:d,...f}=e;return(0,a.createElement)("svg",{ref:t,...o,width:c,height:c,stroke:r,strokeWidth:i?24*Number(l)/Number(c):l,className:n("lucide",s),...f},[...d.map(e=>{let[t,r]=e;return(0,a.createElement)(t,r)}),...Array.isArray(u)?u:[u]])}),l=(e,t)=>{let r=(0,a.forwardRef)((r,o)=>{let{className:l,...i}=r;return(0,a.createElement)(c,{ref:o,iconNode:t,className:n("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),l),...i})});return r.displayName="".concat(e),r}},5345:(e,t,r)=>{Promise.resolve().then(r.bind(r,7707))},7707:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(1929),n=r(2477),o=r(253),c=r(8387),l=r(9543);let i=(e=>{if(!e)return e;let t=e.replace(/\/$/,"");return t.endsWith("/api/v1")?t:"".concat(t,"/api/v1")})((0,c.y)().NEXT_PUBLIC_API_URL||l.env.NEXT_PUBLIC_API_URL||"http://api:8081");function s(){let[e,t]=(0,n.useState)([]),[r,c]=(0,n.useState)(!0),[l,s]=(0,n.useState)(null),u=(0,n.useRef)(null);return((0,n.useEffect)(()=>{let e=async()=>{try{let e=await fetch("".concat(i,"/logs"));if(!e.ok)throw Error("Failed to fetch logs: ".concat(e.status," ").concat(e.statusText));let r=await e.json();t(r.logs||[]),c(!1)}catch(e){s(e instanceof Error?e.message:"Failed to fetch logs"),c(!1)}};e();let r=setInterval(e,5e3);return()=>clearInterval(r)},[]),(0,n.useEffect)(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[e]),r)?(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(o.A,{className:"h-8 w-8 animate-spin"})}):l?(0,a.jsxs)("div",{className:"text-red-500 text-center p-4",children:[(0,a.jsx)("p",{children:l}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"Please check if the server is running and try again."})]}):(0,a.jsx)("div",{className:"bg-gray-900 text-gray-100 rounded-lg p-4",children:(0,a.jsx)("div",{ref:u,className:"h-[600px] overflow-y-auto font-mono text-sm whitespace-pre-wrap",children:e.map((e,t)=>(0,a.jsx)("div",{className:"py-1",children:e},t))})})}function u(){return(0,a.jsxs)("div",{className:"container mx-auto p-4",children:[(0,a.jsx)("h1",{className:"text-2xl font-semibold mb-4 text-center",children:"Pipeline Logs"}),(0,a.jsx)(s,{})]})}},8387:(e,t,r)=>{"use strict";r.d(t,{$C:()=>l,$c:()=>g,B$:()=>u,E7:()=>s,EP:()=>d,ZV:()=>h,bB:()=>f,cn:()=>c,fw:()=>p,y:()=>i,z3:()=>m,zO:()=>N});var a=r(5898),n=r(8158),o=r(9543);function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,a.$)(t))}let l=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),i=()=>window.__ENV__?window.__ENV__:{},s=()=>{{let e=i();return void 0!==e.NEXT_PUBLIC_ANALYTICS_ENABLED?"true"===e.NEXT_PUBLIC_ANALYTICS_ENABLED:"true"===o.env.NEXT_PUBLIC_ANALYTICS_ENABLED}},u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(!e||"object"!=typeof e)return[];let r=[];return Object.keys(e).forEach(a=>{if(a.startsWith("_metadata"))return;let n=t?"".concat(t,".").concat(a):a,o=e[a];if(o&&"object"==typeof o&&!Array.isArray(o)){let e=u(o,n);r=[...r,...e]}else Array.isArray(o),r.push(n)}),r},d=(e,t)=>{if(!e&&!t)return!0;if(!e||!t)return!1;try{let r={...e},a={...t};null==r||delete r._metadata,null==a||delete a._metadata;let n=u(r).sort(),o=u(a).sort();if(n.length!==o.length)return console.log("[Schema Comparison] Field count differs:",{old:n.length,new:o.length}),!1;for(let e=0;e<n.length;e++)if(n[e]!==o[e])return console.log("[Schema Comparison] Field path differs:",{old:n[e],new:o[e]}),!1;return console.log("[Schema Comparison] Schemas match! Field count:",n.length),!0}catch(e){return console.error("[Schema Comparison] Error comparing schemas:",e),!1}},f=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=e.toLowerCase().trim().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-");if(!t.includes(r))return r;let a=new RegExp("^".concat(r,"(-\\d+)?$")),n=Math.max(0,...t.filter(e=>a.test(e)).map(e=>{let t=e.match(/-(\d+)$/);return t?parseInt(t[1]):0}));return"".concat(r,"-").concat(n+1)};function g(e){if(!e)return"";try{if("string"==typeof e){let t=JSON.parse(e);return t&&"object"==typeof t&&t._metadata&&delete t._metadata,JSON.stringify(t,null,2)}let t={...e};return t&&t._metadata&&delete t._metadata,JSON.stringify(t,null,2)}catch(t){return console.error("Error parsing data for code editor:",t),"string"==typeof e?e:String(e)}}let h=e=>e>=1e12?"".concat((e/1e12).toFixed(1),"T"):e>=1e9?"".concat((e/1e9).toFixed(1),"B"):e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toString(),m=e=>e>=1e12?"".concat((e/1e12).toFixed(1),"TB"):e>=1e9?"".concat((e/1e9).toFixed(1),"GB"):e>=1e6?"".concat((e/1e6).toFixed(1),"MB"):e>=1e3?"".concat((e/1e3).toFixed(1),"KB"):"".concat(e,"B"),p=(e,t)=>{if(!e||""===e||"0"===e)return"-";let r=t||new Date,a=new Date(e);if(isNaN(a.getTime())||2e3>a.getFullYear())return"-";let n=r.getTime()-a.getTime();if(n<0)return"-";let o=Math.floor(n/1e3),c=Math.floor(o/60);if(o<5)return"Just now";if(o<60)return"".concat(o," sec. ago");if(c<60)return"".concat(c," min. ago");let l=Math.floor(c/60);if(l<24)return"".concat(l," hour").concat(l>1?"s":""," ago");let i=Math.floor(l/24);return i>365?"Over a year ago":"".concat(i," day").concat(i>1?"s":""," ago")},N=e=>{if(!e||""===e||"0"===e)return"-";let t=new Date,r=new Date(e);if(isNaN(r.getTime())||2e3>r.getFullYear())return"-";let a=t.getTime()-r.getTime();if(a<0)return"-";let n=Math.floor(a/1e3),o=Math.floor(n/60);if(n<5)return"Just now";if(n<60)return"".concat(n," sec. ago");if(o<60)return"".concat(o," min. ago");let c=e=>e.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0});if(t.getDate()===r.getDate()&&t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear())return"Today, ".concat(c(r));let l=new Date(t);if(l.setDate(l.getDate()-1),l.getDate()===r.getDate()&&l.getMonth()===r.getMonth()&&l.getFullYear()===r.getFullYear())return"Yesterday, ".concat(c(r));let i=r.toLocaleString("en-US",{month:"short"}),s=r.getDate(),u=r.getFullYear(),d=t.getFullYear(),f=c(r);return u!==d?"".concat(i," ").concat(s,", ").concat(u,", ").concat(f):"".concat(i," ").concat(s,", ").concat(f)}}},e=>{e.O(0,[2765,3888,5704,7358],()=>e(e.s=5345)),_N_E=e.O()}]);