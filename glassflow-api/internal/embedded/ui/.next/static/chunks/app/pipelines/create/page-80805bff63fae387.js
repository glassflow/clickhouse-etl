(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1515],{4500:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>J});var s=n(1929),r=n(2477),i=n(3165),l=n(9962),a=n(7120),d=n(8821),o=n(7161),c=n(4903),u=n(4991);let m={validateKafkaConnection:e=>{let t=u.YT.safeParse(e);return{success:t.success,errors:t.success?null:t.error.format()}},validateSelectedTopics:e=>{let t=u.uZ.safeParse(e);return{success:t.success,errors:t.success?null:t.error.format()}},validateDeduplicationConfig:e=>{let t=u.DS.safeParse(e);return{success:t.success,errors:t.success?null:t.error.format()}},validateJoinConfig:e=>{let t=u._O.safeParse(e);return{success:t.success,errors:t.success?null:t.error.format()}}};function x(e,t){switch(e){case d.Fn.KAFKA_CONNECTION:return m.validateKafkaConnection(t);case d.Fn.TOPIC_SELECTION_1:case d.Fn.TOPIC_SELECTION_2:return m.validateSelectedTopics(t);case d.Fn.DEDUPLICATION_CONFIGURATOR:return m.validateDeduplicationConfig(t);case d.Fn.JOIN_CONFIGURATOR:return m.validateJoinConfig(t);default:return{success:!1,errors:{_errors:["Unknown step"]}}}}var N=n(8090),h=n(4370),v=n(3132),f=n(8099),O=n(669),p=n(827),I=n(1869),C=n(2401),j=n(8974),g=n(3797);function T(e){var t;let{clickhouseDestination:n,selectedTopics:r}=e;if(!n)return(0,s.jsx)("div",{children:"Not configured"});let i=n.destinationColumns?(0,g.filterUserMappableColumns)(n.destinationColumns):[],l=i.length;return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Database:"}),(0,s.jsx)("div",{className:"text-sm text-content",children:n.database||"Not configured"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Table:"}),(0,s.jsx)("div",{className:"text-sm text-content",children:n.table||"Not configured"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Total Columns:"}),(0,s.jsxs)("div",{className:"text-sm text-content",children:[l," columns"]}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Mapped Fields:"}),(0,s.jsxs)("div",{className:"text-sm text-content",children:[(null==(t=n.mapping)?void 0:t.length)||0," fields"]}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Max Batch Size:"}),(0,s.jsxs)("div",{className:"text-sm text-content",children:[n.maxBatchSize||"1000"," rows"]}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Max Delay Time:"}),(0,s.jsxs)("div",{className:"text-sm text-content",children:[n.maxDelayTime||"1"," ",n.maxDelayTimeUnit||"m"]})]}),i.length>0&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsx)("h4",{className:"text-md font-medium mb-2",children:"Field Mappings"}),(0,s.jsx)("div",{className:"bg-[var(--color-background-neutral-faded)] rounded-md p-2 overflow-auto max-h-[400px]",children:(0,s.jsxs)("table",{className:"min-w-full text-sm",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{className:"border-b border-gray-200",children:[(0,s.jsx)("th",{className:"text-left py-2 px-3 text-muted-foreground",children:"Source Name"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 text-muted-foreground",children:"Event Field"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 text-muted-foreground",children:"→"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 text-muted-foreground",children:"Destination Column"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 text-muted-foreground",children:"Clickhouse Type"}),(0,s.jsx)("th",{className:"text-left py-2 px-3 text-muted-foreground",children:"Status"})]})}),(0,s.jsx)("tbody",{children:i.map((e,t)=>{var i,l,a,d;let o=null==(i=n.mapping)?void 0:i.find(t=>t.name===e.name),c=!!(null==o?void 0:o.eventField),u=(null==(l=e.type)?void 0:l.includes("Nullable"))||e.isNullable,m=(0,g._1)(e),x="",N="";return c?(x="Mapped",N="text-green-500"):m?(x="Auto-populated",N="text-orange-500"):u?(x="Optional (NULL)",N="text-gray-400"):(x="Required",N="text-red-500"),(0,s.jsxs)("tr",{className:t%2==0?"bg-transparent":"bg-[var(--color-background-neutral)]",children:[(0,s.jsx)("td",{className:"py-2 px-3 text-content",children:c?(null==(a=r.find(e=>e.events&&e.selectedEvent&&e.selectedEvent.event&&o.eventField in e.selectedEvent.event))?void 0:a.name)||"Unknown":"-"}),(0,s.jsx)("td",{className:"py-2 px-3 text-content",children:(null==o?void 0:o.eventField)||"-"}),(0,s.jsx)("td",{className:"py-2 px-3 text-content",children:c?"→":""}),(0,s.jsx)("td",{className:"py-2 px-3 text-content",children:e.name}),(0,s.jsx)("td",{className:"py-2 px-3 text-content",children:(null==(d=e.type)?void 0:d.replace(/Nullable\((.*)\)/,"$1"))||"Unknown"}),(0,s.jsx)("td",{className:"py-2 px-3 text-xs font-medium ".concat(N),children:x})]},t)})})]})})]})]})}var _=n(4886),E=n(4914);let S=e=>"success"===e?(0,s.jsxs)("span",{className:"flex items-center text-green-500",children:[(0,s.jsx)(_.A,{className:"h-5 w-5 mr-1"}),"Connected"]}):"error"===e?(0,s.jsxs)("span",{className:"flex items-center text-red-500",children:[(0,s.jsx)(E.A,{className:"h-5 w-5 mr-1"}),"Error"]}):(0,s.jsx)("span",{className:"text-gray-400",children:"Not tested"});function F(e){let{clickhouseConnection:t}=e;if(!t)return(0,s.jsx)("div",{children:"Not configured"});let{connectionType:n}=t;if("direct"===n){let{directConnection:e}=t;return(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Host:"}),(0,s.jsx)("div",{children:(null==e?void 0:e.host)||"Not configured"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"HTTP(S) Port:"}),(0,s.jsx)("div",{children:(null==e?void 0:e.httpPort)||"Not configured"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Native Port:"}),(0,s.jsx)("div",{children:(null==e?void 0:e.nativePort)||"Not configured"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Username:"}),(0,s.jsx)("div",{children:(null==e?void 0:e.username)||"Not configured"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"SSL Enabled:"}),(0,s.jsx)("div",{children:(null==e?void 0:e.useSSL)?"Yes":"No"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Connection Status:"}),(0,s.jsx)("div",{children:S(t.connectionStatus)})]})}if("proxy"===n){let{proxyConnection:e}=t;return(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Proxy URL:"}),(0,s.jsx)("div",{children:(null==e?void 0:e.proxyUrl)||"Not configured"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Connection Status:"}),(0,s.jsx)("div",{children:S(t.connectionStatus)})]})}if("connectionString"===n){let{connectionString:e}=t;return(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Connection String:"}),(0,s.jsx)("div",{children:"********** (hidden for security)"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Connection Status:"}),(0,s.jsx)("div",{children:S(t.connectionStatus)})]})}return(0,s.jsx)("div",{children:"Unknown connection type"})}function b(e){let{kafkaStore:t}=e;if(!t)return(0,s.jsx)("div",{children:"Not configured"});let{bootstrapServers:n,securityProtocol:r}=t;return(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-2",children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Bootstrap Servers:"}),(0,s.jsx)("div",{children:n||"Not configured"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Security Protocol:"}),(0,s.jsx)("div",{children:r||"PLAINTEXT"}),"SASL_PLAINTEXT"===r||"SASL_SSL"===r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"SASL Mechanism:"}),(0,s.jsx)("div",{children:t.saslMechanism||"Not configured"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Username:"}),(0,s.jsx)("div",{children:t.username||"Not configured"}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"Password:"}),(0,s.jsx)("div",{children:"********** (hidden for security)"})]}):null,"SSL"===r||"SASL_SSL"===r?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"SSL Verification:"}),t.sslCertificate&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:"SSL Certificate:"}),(0,s.jsx)("div",{children:"Certificate configured"})]})]}):null]})}var A=n(1688);let P=(0,n(5526).default)(async()=>{let e=await Promise.all([n.e(7077),n.e(8519)]).then(n.bind(n,8519));return await n.e(9965).then(n.t.bind(n,9965,23)),await n.e(4124).then(n.t.bind(n,4124,23)),await n.e(1462).then(n.t.bind(n,1462,23)),await n.e(2639).then(n.t.bind(n,2639,23)),e},{loadableGenerated:{webpack:()=>[2639]},ssr:!1}),y=e=>{let{mode:t,value:n}=e,[i,a]=(0,r.useState)(!1),[d,o]=(0,r.useState)(!1),c=async()=>{try{await navigator.clipboard.writeText(n),o(!0),setTimeout(()=>{o(!1)},2e3)}catch(e){console.error("Failed to copy text: ",e)}};return(0,s.jsxs)("div",{className:"flex-grow relative w-full h-[800px] transition-all duration-200",style:{border:"1px solid #333",borderRadius:"0.375rem",overflow:"hidden"},children:[(0,s.jsx)("button",{onClick:c,className:"absolute top-2 right-2 z-10 p-2 bg-gray-800 hover:bg-gray-700 rounded-md text-white transition-all duration-200",title:"Copy to clipboard",children:d?(0,s.jsx)(l.A,{className:"h-4 w-4 text-green-500 transition-colors duration-200"}):(0,s.jsx)(A.A,{className:"h-4 w-4 transition-colors duration-200"})}),P&&(0,s.jsx)(P,{mode:t,theme:"merbivore",name:"".concat(t,"-editor"),value:n,readOnly:!0,width:"100%",height:"100%",minLines:10,maxLines:1/0,fontSize:14,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,setOptions:{useWorker:!1,showPrintMargin:!1,showGutter:!0,highlightActiveLine:!0,wrap:!1,verticalScrollbarAlwaysVisible:!0,horizontalScrollbarAlwaysVisible:!0,fontSize:14,tabSize:2,showLineNumbers:!0},editorProps:{$blockScrolling:!0},onFocus:()=>a(!0),onBlur:()=>a(!1),style:{width:"100%",height:"100%"}})]})};var L=n(4775),U=n(1475),w=n(4511);let R=[d.Fn.KAFKA_CONNECTION,d.Fn.TOPIC_SELECTION_1,d.Fn.DEDUPLICATION_CONFIGURATOR,d.Fn.CLICKHOUSE_CONNECTION,d.Fn.CLICKHOUSE_MAPPER,d.Fn.REVIEW_CONFIGURATION],D=[d.Fn.KAFKA_CONNECTION,d.Fn.TOPIC_SELECTION_1,d.Fn.TOPIC_SELECTION_2,d.Fn.JOIN_CONFIGURATOR,d.Fn.CLICKHOUSE_CONNECTION,d.Fn.CLICKHOUSE_MAPPER,d.Fn.REVIEW_CONFIGURATION],G=[d.Fn.KAFKA_CONNECTION,d.Fn.TOPIC_SELECTION_1,d.Fn.CLICKHOUSE_CONNECTION,d.Fn.CLICKHOUSE_MAPPER,d.Fn.REVIEW_CONFIGURATION],k=[d.Fn.KAFKA_CONNECTION,d.Fn.TOPIC_DEDUPLICATION_CONFIGURATOR_1,d.Fn.TOPIC_DEDUPLICATION_CONFIGURATOR_2,d.Fn.JOIN_CONFIGURATOR,d.Fn.CLICKHOUSE_CONNECTION,d.Fn.CLICKHOUSE_MAPPER,d.Fn.REVIEW_CONFIGURATION],K={[d.Fn.KAFKA_CONNECTION]:h.c,[d.Fn.TOPIC_SELECTION_1]:v.B,[d.Fn.TOPIC_SELECTION_2]:v.B,[d.Fn.DEDUPLICATION_CONFIGURATOR]:f.z,[d.Fn.TOPIC_DEDUPLICATION_CONFIGURATOR_1]:v.B,[d.Fn.TOPIC_DEDUPLICATION_CONFIGURATOR_2]:v.B,[d.Fn.JOIN_CONFIGURATOR]:w.I,[d.Fn.CLICKHOUSE_CONNECTION]:O.w,[d.Fn.CLICKHOUSE_MAPPER]:p.g,[d.Fn.REVIEW_CONFIGURATION]:function(e){let{steps:t,onCompleteStep:n,validate:i}=e,{kafkaStore:l,clickhouseConnectionStore:a,clickhouseDestinationStore:c,topicsStore:u,joinStore:m,coreStore:x,deduplicationStore:h}=(0,N.useStore)(),{apiConfig:v,pipelineId:f,setPipelineId:O,operationsSelected:p}=x,{clickhouseConnection:g}=a,{clickhouseDestination:_}=c,E=(0,o.useRouter)(),S=Object.values(u.topics||{});(0,L.U)();let[A,P]=(0,r.useState)("overview"),[w,R]=(0,r.useState)(""),[D,G]=(0,r.useState)(""),[k,K]=(0,r.useState)("");(0,r.useEffect)(()=>{R(JSON.stringify(v,null,2)),G(j.Ay.dump(v,{indent:2})),K(JSON.stringify(v,null,2))},[l,g,_,S]);let z=async()=>{if(!i||i(d.Fn.REVIEW_CONFIGURATION,{}))try{await (0,U.pZ)(v);let e=(null==v?void 0:v.pipeline_id)||"";O(e),E.push("/pipelines")}catch(e){console.error("Failed to deploy pipeline:",e)}};return(0,s.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,s.jsxs)(C.tU,{defaultValue:"overview",value:A,onValueChange:P,className:"w-full",children:[(0,s.jsxs)(C.j7,{className:"grid grid-cols-4 mb-4",children:[(0,s.jsx)(C.Xi,{value:"json",className:"transition-all duration-200 hover:bg-[var(--color-background-neutral-faded)]",children:"JSON"}),(0,s.jsx)(C.Xi,{value:"yaml",className:"transition-all duration-200 hover:bg-[var(--color-background-neutral-faded)]",children:"YAML"})]}),(0,s.jsxs)(C.av,{value:"overview",className:"space-y-4",children:[(0,s.jsxs)("div",{className:"p-4 border-b border-gray-200 last:border-b-0 transition-all duration-200 hover:bg-[var(--color-background-neutral-faded)] animate-fade-in-up animate-delay-100",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2 transition-colors duration-200",children:"Kafka Connection"}),(0,s.jsx)(b,{kafkaStore:l})]}),(0,s.jsxs)("div",{className:"p-4 border-b border-gray-200 last:border-b-0 transition-all duration-200 hover:bg-[var(--color-background-neutral-faded)] animate-fade-in-up animate-delay-200",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2 transition-colors duration-200",children:"Selected Topics"}),(0,s.jsx)("ul",{className:"list-disc list-inside",children:S&&Array.isArray(S)&&0!==S.length?S.map((e,t)=>{let n="string"==typeof e?e:(null==e?void 0:e.name)||JSON.stringify(e);return(0,s.jsxs)("li",{className:"mb-4",children:[(0,s.jsx)("div",{className:"font-medium",children:n}),(()=>{let e=h.getDeduplication(t);return e&&(0,s.jsxs)("div",{className:"ml-4 mt-2 text-sm",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Deduplication:"})," ",e.enabled?"Enabled":"Disabled"]}),e.enabled&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Key Field:"})," ",e.key||"Not specified"]}),e.window&&(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Time Window:"})," ",e.window," ",e.unit||"hours"]})]})]})})()]},t)}):(0,s.jsx)("li",{children:"No topics selected"})})]}),(0,s.jsxs)("div",{className:"p-4 border-b border-gray-200 last:border-b-0 transition-all duration-200 hover:bg-[var(--color-background-neutral-faded)] animate-fade-in-up animate-delay-300",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2 transition-colors duration-200",children:"Clickhouse Connection"}),(0,s.jsx)(F,{clickhouseConnection:g})]}),(0,s.jsxs)("div",{className:"p-4 border-b border-gray-200 last:border-b-0 transition-all duration-200 hover:bg-[var(--color-background-neutral-faded)] animate-fade-in-up animate-delay-400",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2 transition-colors duration-200",children:"Clickhouse Destination"}),(0,s.jsx)(T,{clickhouseDestination:_,selectedTopics:S})]})]}),(0,s.jsx)(C.av,{value:"json",children:(0,s.jsxs)("div",{className:"p-4 transition-all duration-200 hover:bg-[var(--color-background-neutral-faded)] animate-fade-in-up animate-delay-100",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2 transition-colors duration-200",children:"Configuration JSON"}),(0,s.jsx)(y,{mode:"json",value:w})]})}),(0,s.jsx)(C.av,{value:"yaml",children:(0,s.jsxs)("div",{className:"p-4 transition-all duration-200 hover:bg-[var(--color-background-neutral-faded)] animate-fade-in-up animate-delay-100",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2 transition-colors duration-200",children:"Configuration YAML"}),(0,s.jsx)(y,{mode:"yaml",value:D})]})}),(0,s.jsx)(C.av,{value:"api",children:(0,s.jsxs)("div",{className:"p-4 transition-all duration-200 hover:bg-[var(--color-background-neutral-faded)] animate-fade-in-up animate-delay-100",children:[(0,s.jsx)("h3",{className:"text-lg font-medium mb-2 transition-colors duration-200",children:"API Configuration"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground mb-4 transition-colors duration-200",children:"This is the configuration in the format expected by the API."}),(0,s.jsx)(y,{mode:"json",value:k})]})})]}),(0,s.jsx)("div",{className:"flex justify-start mt-4 animate-fade-in-up animate-delay-500",children:(0,s.jsx)(I.$,{className:"btn-primary transition-all duration-200 hover:opacity-90",type:"button",variant:"gradient",size:"custom",onClick:z,children:"Continue"})})]})}},z=function(){var e;let{coreStore:t}=(0,N.useStore)(),{operationsSelected:n}=t,u=(0,o.useRouter)();(0,r.useEffect)(()=>{if(!(null==n?void 0:n.operation))return void u.push("/")},[n,u]);let m=r.useMemo(()=>{switch(null==n?void 0:n.operation){case d.Oz.DEDUPLICATION:return R;case d.Oz.JOINING:return D;case d.Oz.INGEST_ONLY:return G;case d.Oz.DEDUPLICATION_JOINING:return k;default:return[]}},[null==n?void 0:n.operation]),h=(e=>{if(!e)return{};let t=e=>e.reduce((e,t)=>(e[t]=K[t],e),{});switch(e){case d.Oz.DEDUPLICATION:return t(R);case d.Oz.JOINING:return t(D);case d.Oz.INGEST_ONLY:return t(G);case d.Oz.DEDUPLICATION_JOINING:return t(k);default:return{}}})(null==n?void 0:n.operation),{stepsStore:v}=(0,N.useStore)(),{completedSteps:f,setCompletedSteps:O,activeStep:p,setActiveStep:I,addCompletedStep:C}=v,j=Array.from(f),[g,T]=(0,r.useState)(null),[_,E]=(0,r.useState)(null),S=r.useMemo(()=>h?Object.keys(h):[],[h]),F=S[0];(0,r.useEffect)(()=>{!p&&F&&I(F)},[p,I,F]);let b=e=>{let t=m.indexOf(e);if(-1!==t)if((null==n?void 0:n.operation)===d.Oz.JOINING){if(C(e),e===d.Fn.TOPIC_SELECTION_1){C(d.Fn.TOPIC_SELECTION_1),I(d.Fn.TOPIC_SELECTION_2);return}e===d.Fn.TOPIC_SELECTION_2&&(C(d.Fn.TOPIC_SELECTION_1),C(d.Fn.TOPIC_SELECTION_2));let n=m[t+1];n&&I(n)}else{if(m.slice(0,t).every(e=>f.includes(e))&&C(e),e===d.Fn.REVIEW_CONFIGURATION){I(d.Fn.DEPLOY_PIPELINE),u.push("/pipelines/");return}let n=m[t+1];n&&I(n)}g&&(T(null),E(null))};p&&S.findIndex(e=>e===p);let A=p||F,P=(e,t,n,r,i)=>{if(!t||!e||!(e in t))return console.error('Step component for key "'.concat(e,'" not found')),null;let l=t[e];if(e===d.Fn.TOPIC_SELECTION_1||e===d.Fn.TOPIC_SELECTION_2||e===d.Fn.TOPIC_DEDUPLICATION_CONFIGURATOR_1||e===d.Fn.TOPIC_DEDUPLICATION_CONFIGURATOR_2){let t=e===d.Fn.TOPIC_DEDUPLICATION_CONFIGURATOR_1||e===d.Fn.TOPIC_DEDUPLICATION_CONFIGURATOR_2;return(0,s.jsx)(l,{steps:n,onCompleteStep:e=>r(e),validate:i,currentStep:e,enableDeduplication:t})}return(0,s.jsx)(l,{steps:n,onCompleteStep:e=>r(e),validate:i})},y=e=>{var t,s,r;if(!e)return"Step";let i=d.N6[e],l=N.useStore.getState().topicsStore||{topics:[]};if(e===d.Fn.TOPIC_SELECTION_1||e===d.Fn.TOPIC_DEDUPLICATION_CONFIGURATOR_1){if((null==n?void 0:n.operation)===d.Oz.JOINING||(null==n?void 0:n.operation)===d.Oz.DEDUPLICATION_JOINING){let e=null==(t=l.topics)?void 0:t[0];return"Select Left Topic: ".concat((null==e?void 0:e.name)||"")}{let e=null==(s=l.topics)?void 0:s[0];return"Select Topic: ".concat((null==e?void 0:e.name)||"")}}if(e===d.Fn.TOPIC_SELECTION_2||e===d.Fn.TOPIC_DEDUPLICATION_CONFIGURATOR_2){let e=null==(r=l.topics)?void 0:r[1];return"Select Right Topic: ".concat((null==e?void 0:e.name)||"")}return(null==i?void 0:i.title)||"Step"};return(0,s.jsx)("div",{className:"flex justify-center w-full",children:(0,s.jsxs)("div",{className:"flex flex-col gap-4 w-full max-w-[var(--main-container-width)]",children:[j.length>0&&(0,s.jsx)("div",{className:"flex flex-col gap-2 w-full",children:j.map(e=>{var t;return(0,s.jsx)("div",{className:"w-full",children:A===e?(0,s.jsxs)(c.Zp,{className:"card card-regular p-4",children:[(0,s.jsxs)(c.aR,{children:[(0,s.jsx)(c.ZB,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("span",{className:"step-title",children:y(e)})}),(0,s.jsx)(i.A,{className:"w-5 h-5"})]})}),(0,s.jsx)(c.BT,{children:(0,s.jsx)("span",{className:"step-description",children:(null==(t=d.N6[e])?void 0:t.description)||""})})]}),(0,s.jsx)(c.Wu,{children:P(e,h,d.N6,b,x)})]}):(0,s.jsxs)("button",{onClick:()=>{j.includes(e)&&(E(p),T(e),I(e))},className:"flex items-center justify-between p-4 w-full card card-elevated",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)(l.A,{className:"w-5 h-5 text-primary mr-2"}),(0,s.jsx)("span",{className:"font-medium",children:(e=>{var t,s,r;if(!e)return"Step";let i=d.N6[e],l=N.useStore.getState().topicsStore||{topics:[]};if(e===d.Fn.TOPIC_SELECTION_1||e===d.Fn.TOPIC_DEDUPLICATION_CONFIGURATOR_1){if((null==n?void 0:n.operation)===d.Oz.JOINING||(null==n?void 0:n.operation)===d.Oz.DEDUPLICATION_JOINING){let e=null==(t=l.topics)?void 0:t[0];return"Select Left Topic: ".concat((null==e?void 0:e.name)||"")}{let e=null==(s=l.topics)?void 0:s[0];return"Select Topic: ".concat((null==e?void 0:e.name)||"")}}if(e===d.Fn.TOPIC_SELECTION_2||e===d.Fn.TOPIC_DEDUPLICATION_CONFIGURATOR_2){let e=null==(r=l.topics)?void 0:r[1];return"Select Right Topic: ".concat((null==e?void 0:e.name)||"")}return i&&i.title||"Step"})(e)})]}),A===e?(0,s.jsx)(i.A,{className:"w-5 h-5"}):(0,s.jsx)(a.A,{className:"w-5 h-5"})]})},e)})}),!j.includes(A)&&A&&(0,s.jsxs)(c.Zp,{className:"card card-regular p-4",children:[(0,s.jsxs)(c.aR,{children:[(0,s.jsx)(c.ZB,{children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("span",{className:"step-title",children:y(A)})}),(0,s.jsx)(i.A,{className:"w-5 h-5"})]})}),(0,s.jsx)(c.BT,{children:(null==(e=d.N6[A])?void 0:e.description)||""})]}),(0,s.jsx)(c.Wu,{children:P(A,h,d.N6,b,x)})]})]})})};function J(){return(0,s.jsx)("div",{className:"flex items-start justify-center min-h-[var(--main-container-width)] min-w-[var(--main-container-width)] py-8",children:(0,s.jsx)(z,{})})}},5776:(e,t,n)=>{Promise.resolve().then(n.bind(n,4500))}},e=>{e.O(0,[2270,2765,3878,5993,6258,5037,6460,1279,3797,6091,3888,5704,7358],()=>e(e.s=5776)),_N_E=e.O()}]);