"use strict";exports.id=2442,exports.ids=[2442],exports.modules={622:(a,b,c)=>{c.r(b),c.d(b,{fromUtf8:()=>d,toUtf8:()=>e});let d=a=>"function"==typeof TextEncoder?new TextEncoder().encode(a):(a=>{let b=[];for(let c=0,d=a.length;c<d;c++){let d=a.charCodeAt(c);if(d<128)b.push(d);else if(d<2048)b.push(d>>6|192,63&d|128);else if(c+1<a.length&&(64512&d)==55296&&(64512&a.charCodeAt(c+1))==56320){let e=65536+((1023&d)<<10)+(1023&a.charCodeAt(++c));b.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}else b.push(d>>12|224,d>>6&63|128,63&d|128)}return Uint8Array.from(b)})(a),e=a=>"function"==typeof TextDecoder?new TextDecoder("utf-8").decode(a):(a=>{let b="";for(let c=0,d=a.length;c<d;c++){let d=a[c];d<128?b+=String.fromCharCode(d):192<=d&&d<224?b+=String.fromCharCode((31&d)<<6|63&a[++c]):240<=d&&d<365?b+=decodeURIComponent("%"+[d,a[++c],a[++c],a[++c]].map(a=>a.toString(16)).join("%")):b+=String.fromCharCode((15&d)<<12|(63&a[++c])<<6|63&a[++c])}return b})(a)},2534:(a,b,c)=>{var d;c.d(b,{zH:()=>i,GG:()=>h,e$:()=>f,Ko:()=>g,TD:()=>l});let e=(a,b,c)=>{if(b in a){if("true"===a[b])return!0;if("false"===a[b])return!1;throw Error(`Cannot load ${c} "${b}". Expected "true" or "false", got ${a[b]}.`)}};!function(a){a.ENV="env",a.CONFIG="shared config entry"}(d||(d={}));let f={environmentVariableSelector:a=>e(a,"AWS_USE_DUALSTACK_ENDPOINT",d.ENV),configFileSelector:a=>e(a,"use_dualstack_endpoint",d.CONFIG),default:!1},g={environmentVariableSelector:a=>e(a,"AWS_USE_FIPS_ENDPOINT",d.ENV),configFileSelector:a=>e(a,"use_fips_endpoint",d.CONFIG),default:!1};c(24919);let h={environmentVariableSelector:a=>a.AWS_REGION,configFileSelector:a=>a.region,default:()=>{throw Error("Region is missing")}},i={preferredFile:"credentials"},j=a=>"string"==typeof a&&(a.startsWith("fips-")||a.endsWith("-fips")),k=a=>j(a)?["fips-aws-global","aws-fips"].includes(a)?"us-east-1":a.replace(/fips-(dkr-|prod-)?|-fips/,""):a,l=a=>{let{region:b,useFipsEndpoint:c}=a;if(!b)throw Error("Region is missing");return Object.assign(a,{region:async()=>"string"==typeof b?k(b):k(await b()),useFipsEndpoint:async()=>!!j("string"==typeof b?b:await b())||("function"!=typeof c?Promise.resolve(!!c):c())})}},3060:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.uint32ArrayFrom=void 0,b.uint32ArrayFrom=function(a){if(!Uint32Array.from){for(var b=new Uint32Array(a.length),c=0;c<a.length;)b[c]=a[c],c+=1;return b}return Uint32Array.from(a)}},6044:(a,b,c)=>{c.d(b,{v6:()=>j});var d=c(93881),e=c(30716),f=c(83520);let g="AWS_EC2_METADATA_DISABLED",h=async a=>{let{ENV_CMDS_FULL_URI:b,ENV_CMDS_RELATIVE_URI:d,fromContainerMetadata:f,fromInstanceMetadata:h}=await Promise.resolve().then(c.bind(c,73948));if(process.env[d]||process.env[b]){a.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromHttp/fromContainerMetadata");let{fromHttp:b}=await Promise.resolve().then(c.bind(c,98884));return(0,e.cy)(b(a),f(a))}return process.env[g]&&"false"!==process.env[g]?async()=>{throw new e.C1("EC2 Instance Metadata Service access disabled",{logger:a.logger})}:(a.logger?.debug("@aws-sdk/credential-provider-node - remoteProvider::fromInstanceMetadata"),h(a))},i=!1,j=(a={})=>(0,e.Bj)((0,e.cy)(async()=>{if(a.profile??process.env[f.Ch])throw process.env[d.yG]&&process.env[d.pi]&&!i&&((a.logger?.warn&&a.logger?.constructor?.name!=="NoOpLogger"?a.logger.warn:console.warn)(`@aws-sdk/credential-provider-node - defaultProvider::fromEnv WARNING:
    Multiple credential sources detected: 
    Both AWS_PROFILE and the pair AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY static credentials are set.
    This SDK will proceed with the AWS_PROFILE value.
    
    However, a future version may change this behavior to prefer the ENV static credentials.
    Please ensure that your environment only sets either the AWS_PROFILE or the
    AWS_ACCESS_KEY_ID/AWS_SECRET_ACCESS_KEY pair.
`),i=!0),new e.C1("AWS_PROFILE is set, skipping fromEnv provider.",{logger:a.logger,tryNextLink:!0});return a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromEnv"),(0,d.fromEnv)(a)()},async()=>{a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromSSO");let{ssoStartUrl:b,ssoAccountId:d,ssoRegion:f,ssoRoleName:g,ssoSession:h}=a;if(!b&&!d&&!f&&!g&&!h)throw new e.C1("Skipping SSO provider in default chain (inputs do not include SSO fields).",{logger:a.logger});let{fromSSO:i}=await Promise.resolve().then(c.bind(c,99524));return i(a)()},async()=>{a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromIni");let{fromIni:b}=await Promise.resolve().then(c.bind(c,68783));return b(a)()},async()=>{a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromProcess");let{fromProcess:b}=await Promise.resolve().then(c.bind(c,30731));return b(a)()},async()=>{a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::fromTokenFile");let{fromTokenFile:b}=await Promise.resolve().then(c.bind(c,7091));return b(a)()},async()=>(a.logger?.debug("@aws-sdk/credential-provider-node - defaultProvider::remoteProvider"),(await h(a))()),async()=>{throw new e.C1("Could not load credentials from any providers",{tryNextLink:!1,logger:a.logger})}),l,k),k=a=>a?.expiration!==void 0,l=a=>a?.expiration!==void 0&&a.expiration.getTime()-Date.now()<3e5},6742:(a,b,c)=>{c.d(b,{a:()=>f,n:()=>g});let d={},e={};for(let a=0;a<256;a++){let b=a.toString(16).toLowerCase();1===b.length&&(b=`0${b}`),d[a]=b,e[b]=a}function f(a){if(a.length%2!=0)throw Error("Hex encoded strings must have an even number length");let b=new Uint8Array(a.length/2);for(let c=0;c<a.length;c+=2){let d=a.slice(c,c+2).toLowerCase();if(d in e)b[c/2]=e[d];else throw Error(`Cannot decode unrecognized sequence ${d} as hexadecimal`)}return b}function g(a){let b="";for(let c=0;c<a.byteLength;c++)b+=d[a[c]];return b}},7091:(a,b,c)=>{c.r(b),c.d(b,{fromTokenFile:()=>i,fromWebToken:()=>g});var d=c(63168),e=c(30716),f=c(29021);let g=a=>async b=>{a.logger?.debug("@aws-sdk/credential-provider-web-identity - fromWebToken");let{roleArn:d,roleSessionName:e,webIdentityToken:f,providerId:g,policyArns:h,policy:i,durationSeconds:j}=a,{roleAssumerWithWebIdentity:k}=a;if(!k){let{getDefaultRoleAssumerWithWebIdentity:d}=await Promise.all([c.e(8842),c.e(4619)]).then(c.bind(c,34619));k=d({...a.clientConfig,credentialProviderLogger:a.logger,parentClientConfig:{...b?.callerClientConfig,...a.parentClientConfig}},a.clientPlugins)}return k({RoleArn:d,RoleSessionName:e??`aws-sdk-js-session-${Date.now()}`,WebIdentityToken:f,ProviderId:g,PolicyArns:h,Policy:i,DurationSeconds:j})},h="AWS_WEB_IDENTITY_TOKEN_FILE",i=(a={})=>async()=>{a.logger?.debug("@aws-sdk/credential-provider-web-identity - fromTokenFile");let b=a?.webIdentityTokenFile??process.env[h],c=a?.roleArn??process.env.AWS_ROLE_ARN,i=a?.roleSessionName??process.env.AWS_ROLE_SESSION_NAME;if(!b||!c)throw new e.C1("Web identity configuration not specified",{logger:a.logger});let j=await g({...a,webIdentityToken:(0,f.readFileSync)(b,{encoding:"ascii"}),roleArn:c,roleSessionName:i})();return b===process.env[h]&&(0,d.g)(j,"CREDENTIALS_ENV_VARS_STS_WEB_ID_TOKEN","h"),j}},9605:(a,b,c)=>{c.d(b,{ar:()=>e,Fo:()=>f,Pq:()=>g});var d=c(34760);let e=a=>{let b=(0,d.s)(a,"utf8");return new Uint8Array(b.buffer,b.byteOffset,b.byteLength/Uint8Array.BYTES_PER_ELEMENT)},f=a=>"string"==typeof a?e(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a),g=a=>{if("string"==typeof a)return a;if("object"!=typeof a||"number"!=typeof a.byteOffset||"number"!=typeof a.byteLength)throw Error("@smithy/util-utf8: toUtf8 encoder function only accepts string | Uint8Array.");return(0,d.Q)(a.buffer,a.byteOffset,a.byteLength).toString("utf8")}},10284:(a,b,c)=>{c.d(b,{D:()=>d});let d=a=>{let b;if("string"==typeof a)return d(new URL(a));let{hostname:c,pathname:e,port:f,protocol:g,search:h}=a;return h&&(b=function(a){let b={};if(a=a.replace(/^\?/,""))for(let c of a.split("&")){let[a,d=null]=c.split("=");a=decodeURIComponent(a),d&&(d=decodeURIComponent(d)),a in b?Array.isArray(b[a])?b[a].push(d):b[a]=[b[a],d]:b[a]=d}return b}(h)),{hostname:c,port:f?parseInt(f):void 0,protocol:g,path:e,query:b}}},12004:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.MAX_HASHABLE_LENGTH=b.INIT=b.KEY=b.DIGEST_LENGTH=b.BLOCK_SIZE=void 0,b.BLOCK_SIZE=64,b.DIGEST_LENGTH=32,b.KEY=new Uint32Array([0x428a2f98,0x71374491,0xb5c0fbcf,0xe9b5dba5,0x3956c25b,0x59f111f1,0x923f82a4,0xab1c5ed5,0xd807aa98,0x12835b01,0x243185be,0x550c7dc3,0x72be5d74,0x80deb1fe,0x9bdc06a7,0xc19bf174,0xe49b69c1,0xefbe4786,0xfc19dc6,0x240ca1cc,0x2de92c6f,0x4a7484aa,0x5cb0a9dc,0x76f988da,0x983e5152,0xa831c66d,0xb00327c8,0xbf597fc7,0xc6e00bf3,0xd5a79147,0x6ca6351,0x14292967,0x27b70a85,0x2e1b2138,0x4d2c6dfc,0x53380d13,0x650a7354,0x766a0abb,0x81c2c92e,0x92722c85,0xa2bfe8a1,0xa81a664b,0xc24b8b70,0xc76c51a3,0xd192e819,0xd6990624,0xf40e3585,0x106aa070,0x19a4c116,0x1e376c08,0x2748774c,0x34b0bcb5,0x391c0cb3,0x4ed8aa4a,0x5b9cca4f,0x682e6ff3,0x748f82ee,0x78a5636f,0x84c87814,0x8cc70208,0x90befffa,0xa4506ceb,0xbef9a3f7,0xc67178f2]),b.INIT=[0x6a09e667,0xbb67ae85,0x3c6ef372,0xa54ff53a,0x510e527f,0x9b05688c,0x1f83d9ab,0x5be0cd19],b.MAX_HASHABLE_LENGTH=0x1fffffffffffff},15651:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.isEmptyData=void 0,b.isEmptyData=function(a){return"string"==typeof a?0===a.length:0===a.byteLength}},18983:function(a,b,c){var d=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})};Object.defineProperty(b,"__esModule",{value:!0}),b.CreatePayload=void 0;let e=c(99705),f=c(58776),g=c(55511),h=c(26629),i=c(82442);class j{constructor(a){let{region:b,ttl:c,userAgent:d,credentials:g}=a;this.region=b,this.ttl=null!=c?c:"900",this.userAgent=null!=d?d:"MSK_IAM",this.credentials=null!=g?g:(0,f.fromNodeProviderChain)(),this.signature=new e.SignatureV4({credentials:this.credentials,region:this.region,service:i.SERVICE,applyChecksum:!1,uriEscapePath:!0,sha256:h.Sha256})}timestampYYYYmmDDFormat(a){let b=new Date(a);return this.timestampYYYYmmDDTHHMMSSZFormat(b).substring(0,8)}timestampYYYYmmDDTHHMMSSZFormat(a){return new Date(a).toISOString().replace(/[-.:]/g,"").substring(0,15).concat("Z")}generateCanonicalHeaders(a){return`host:${a}
`}generateXAmzCredential(a,b){return`${a}/${b}/${this.region}/${i.SERVICE}/aws4_request`}generateStringToSign(a,b){return`${i.ALGORITHM}
${this.timestampYYYYmmDDTHHMMSSZFormat(a)}
${this.timestampYYYYmmDDFormat(a)}/${this.region}/${i.SERVICE}/aws4_request
${(0,g.createHash)("sha256").update(b,"utf8").digest("hex")}`}generateCanonicalQueryString(a,b,c){let d="";return d+=`${encodeURIComponent("Action")}=${encodeURIComponent(i.ACTION)}&${encodeURIComponent("X-Amz-Algorithm")}=${encodeURIComponent(i.ALGORITHM)}&${encodeURIComponent("X-Amz-Credential")}=${encodeURIComponent(b)}&${encodeURIComponent("X-Amz-Date")}=${encodeURIComponent(a)}&${encodeURIComponent("X-Amz-Expires")}=${encodeURIComponent(this.ttl)}&`,void 0!==c&&(d+=`${encodeURIComponent("X-Amz-Security-Token")}=${encodeURIComponent(c)}&`),d+=`${encodeURIComponent("X-Amz-SignedHeaders")}=${encodeURIComponent(i.SIGNED_HEADERS)}`}generateCanonicalRequest(a,b,c,d){return"GET\n/\n"+a+"\n"+b+"\n"+c+"\n"+d}create({brokerHost:a}){return d(this,void 0,void 0,function*(){if(!a)throw Error("Missing values");let{accessKeyId:b,sessionToken:c}="function"==typeof this.credentials?yield this.credentials():this.credentials,d=Date.now(),e=this.generateXAmzCredential(b,this.timestampYYYYmmDDFormat(d)),f=this.generateCanonicalHeaders(a),g=this.generateCanonicalQueryString(this.timestampYYYYmmDDTHHMMSSZFormat(d),e,c),h=this.generateCanonicalRequest(g,f,i.SIGNED_HEADERS,i.HASHED_PAYLOAD),j=this.generateStringToSign(d,h),k=yield this.signature.sign(j,{signingDate:new Date(d).toISOString()});return{version:"2020_10_22","user-agent":this.userAgent,host:a,action:i.ACTION,"x-amz-credential":e,"x-amz-algorithm":i.ALGORITHM,"x-amz-date":this.timestampYYYYmmDDTHHMMSSZFormat(d),"x-amz-security-token":c,"x-amz-signedheaders":i.SIGNED_HEADERS,"x-amz-expires":this.ttl,"x-amz-signature":k}})}}b.CreatePayload=j},20743:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.convertToBuffer=void 0;var d=c(622),e="undefined"!=typeof Buffer&&Buffer.from?function(a){return Buffer.from(a,"utf8")}:d.fromUtf8;b.convertToBuffer=function(a){return a instanceof Uint8Array?a:"string"==typeof a?e(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}},22134:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.isEmptyData=void 0,b.isEmptyData=function(a){return"string"==typeof a?0===a.length:0===a.byteLength}},24919:(a,b,c)=>{c.d(b,{u:()=>e,t:()=>f});var d=c(95853);let e=a=>a[d.Vf]||(a[d.Vf]={}),f=a=>{if("function"==typeof a)return a;let b=Promise.resolve(a);return()=>b}},26629:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),c(50153).__exportStar(c(96709),b)},30716:(a,b,c)=>{c.d(b,{C1:()=>e,mZ:()=>d,Jh:()=>f,cy:()=>g,VR:()=>h,Bj:()=>i});class d extends Error{constructor(a,b=!0){let c,e=!0;"boolean"==typeof b?(c=void 0,e=b):null!=b&&"object"==typeof b&&(c=b.logger,e=b.tryNextLink??!0),super(a),this.name="ProviderError",this.tryNextLink=e,Object.setPrototypeOf(this,d.prototype),c?.debug?.(`@smithy/property-provider ${e?"->":"(!)"} ${a}`)}static from(a,b=!0){return Object.assign(new this(a.message,b),a)}}class e extends d{constructor(a,b=!0){super(a,b),this.name="CredentialsProviderError",Object.setPrototypeOf(this,e.prototype)}}class f extends d{constructor(a,b=!0){super(a,b),this.name="TokenProviderError",Object.setPrototypeOf(this,f.prototype)}}let g=(...a)=>async()=>{let b;if(0===a.length)throw new d("No providers in chain");for(let c of a)try{return await c()}catch(a){if(b=a,a?.tryNextLink)continue;throw a}throw b},h=a=>()=>Promise.resolve(a),i=(a,b,c)=>{let d,e,f,g=!1,h=async()=>{e||(e=a());try{d=await e,f=!0,g=!1}finally{e=void 0}return d};return void 0===b?async a=>((!f||a?.forceRefresh)&&(d=await h()),d):async a=>((!f||a?.forceRefresh)&&(d=await h()),g||(c&&!c(d)?g=!0:b(d)&&await h()),d)}},30731:(a,b,c)=>{c.r(b),c.d(b,{fromProcess:()=>j});var d=c(83520),e=c(30716),f=c(79646),g=c(28354),h=c(63168);let i=async(a,b,c)=>{let d=b[a];if(b[a]){let i=d.credential_process;if(void 0!==i){let d=(0,g.promisify)(f.exec);try{let c,{stdout:e}=await d(i);try{c=JSON.parse(e.trim())}catch{throw Error(`Profile ${a} credential_process returned invalid JSON.`)}return((a,b,c)=>{if(1!==b.Version)throw Error(`Profile ${a} credential_process did not return Version 1.`);if(void 0===b.AccessKeyId||void 0===b.SecretAccessKey)throw Error(`Profile ${a} credential_process returned invalid credentials.`);if(b.Expiration){let c=new Date;if(new Date(b.Expiration)<c)throw Error(`Profile ${a} credential_process returned expired credentials.`)}let d=b.AccountId;!d&&c?.[a]?.aws_account_id&&(d=c[a].aws_account_id);let e={accessKeyId:b.AccessKeyId,secretAccessKey:b.SecretAccessKey,...b.SessionToken&&{sessionToken:b.SessionToken},...b.Expiration&&{expiration:new Date(b.Expiration)},...b.CredentialScope&&{credentialScope:b.CredentialScope},...d&&{accountId:d}};return(0,h.g)(e,"CREDENTIALS_PROCESS","w"),e})(a,c,b)}catch(a){throw new e.C1(a.message,{logger:c})}}throw new e.C1(`Profile ${a} did not contain credential_process.`,{logger:c})}throw new e.C1(`Profile ${a} could not be found in shared credentials file.`,{logger:c})},j=(a={})=>async({callerClientConfig:b}={})=>{a.logger?.debug("@aws-sdk/credential-provider-process - fromProcess");let c=await (0,d.YU)(a);return i((0,d.Bz)({profile:a.profile??b?.profile}),c,a.logger)}},30915:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.AwsCrc32=void 0;var d=c(50153),e=c(69322),f=c(53930);b.AwsCrc32=function(){function a(){this.crc32=new f.Crc32}return a.prototype.update=function(a){(0,e.isEmptyData)(a)||this.crc32.update((0,e.convertToBuffer)(a))},a.prototype.digest=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(a){return[2,(0,e.numToUint8)(this.crc32.digest())]})})},a.prototype.reset=function(){this.crc32=new f.Crc32},a}()},33017:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.uint32ArrayFrom=void 0,b.uint32ArrayFrom=function(a){if(!Uint32Array.from){for(var b=new Uint32Array(a.length),c=0;c<a.length;)b[c]=a[c],c+=1;return b}return Uint32Array.from(a)}},34760:(a,b,c)=>{c.d(b,{Q:()=>f,s:()=>g});var d=c(81604),e=c(79428);let f=(a,b=0,c=a.byteLength-b)=>{if(!(0,d.m)(a))throw TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof a} (${a})`);return e.Buffer.from(a,b,c)},g=(a,b)=>{if("string"!=typeof a)throw TypeError(`The "input" argument must be of type string. Received type ${typeof a} (${a})`);return b?e.Buffer.from(a,b):e.Buffer.from(a)}},38266:(a,b,c)=>{c.d(b,{o:()=>d});let d=a=>encodeURIComponent(a).replace(/[!'()*]/g,e),e=a=>`%${a.charCodeAt(0).toString(16).toUpperCase()}`},41576:(a,b,c)=>{c.d(b,{Z:()=>g});var d=c(30716);function e(a){try{let b=new Set(Array.from(a.match(/([A-Z_]){3,}/g)??[]));return b.delete("CONFIG"),b.delete("CONFIG_PREFIX_SEPARATOR"),b.delete("ENV"),[...b].join(", ")}catch(b){return a}}var f=c(83520);let g=({environmentVariableSelector:a,configFileSelector:b,default:c},g={})=>{let{signingName:h,logger:i}=g;return(0,d.Bj)((0,d.cy)(((a,b)=>async()=>{try{let c=a(process.env,b);if(void 0===c)throw Error();return c}catch(c){throw new d.C1(c.message||`Not found in ENV: ${e(a.toString())}`,{logger:b?.logger})}})(a,{signingName:h,logger:i}),((a,{preferredFile:b="config",...c}={})=>async()=>{let g=(0,f.Bz)(c),{configFile:h,credentialsFile:i}=await (0,f.p6)(c),j=i[g]||{},k=h[g]||{},l="config"===b?{...j,...k}:{...k,...j};try{let c="config"===b?h:i,d=a(l,c);if(void 0===d)throw Error();return d}catch(b){throw new d.C1(b.message||`Not found in config files w/ profile [${g}]: ${e(a.toString())}`,{logger:c.logger})}})(b,g),(a=>"function"==typeof a?async()=>await a():(0,d.VR)(a))(c)))}},41915:(a,b,c)=>{c.d(b,{Kj:()=>i,uB:()=>m,N4:()=>C,$H:()=>o,TJ:()=>q,Ss:()=>J,Px:()=>k,J1:()=>p,Mw:()=>r,I9:()=>w,ET:()=>N,Y0:()=>S,r$:()=>K,Xk:()=>T,lK:()=>U,$6:()=>x.$,xA:()=>y,rm:()=>A,eU:()=>B,lT:()=>u,Tj:()=>D,l3:()=>ae,EI:()=>ab,t_:()=>ad,uv:()=>z,xW:()=>X,s:()=>E,jr:()=>s});let d=(a,b)=>{let c=[];if(a&&c.push(a),b)for(let a of b)c.push(a);return c},e=(a,b)=>`${a||"anonymous"}${b&&b.length>0?` (a.k.a. ${b.join(",")})`:""}`,f=()=>{let a=[],b=[],c=!1,i=new Set,j=c=>(a.forEach(a=>{c.add(a.middleware,{...a})}),b.forEach(a=>{c.addRelativeTo(a.middleware,{...a})}),c.identifyOnResolve?.(m.identifyOnResolve()),c),k=a=>{let b=[];return a.before.forEach(a=>{0===a.before.length&&0===a.after.length?b.push(a):b.push(...k(a))}),b.push(a),a.after.reverse().forEach(a=>{0===a.before.length&&0===a.after.length?b.push(a):b.push(...k(a))}),b},l=(c=!1)=>{let f=[],i=[],j={};return a.forEach(a=>{let b={...a,before:[],after:[]};for(let a of d(b.name,b.aliases))j[a]=b;f.push(b)}),b.forEach(a=>{let b={...a,before:[],after:[]};for(let a of d(b.name,b.aliases))j[a]=b;i.push(b)}),i.forEach(a=>{if(a.toMiddleware){let b=j[a.toMiddleware];if(void 0===b){if(c)return;throw Error(`${a.toMiddleware} is not found when adding ${e(a.name,a.aliases)} middleware ${a.relation} ${a.toMiddleware}`)}"after"===a.relation&&b.after.push(a),"before"===a.relation&&b.before.push(a)}}),f.sort((a,b)=>g[b.step]-g[a.step]||h[b.priority||"normal"]-h[a.priority||"normal"]).map(k).reduce((a,b)=>(a.push(...b),a),[])},m={add:(b,c={})=>{let{name:f,override:g,aliases:h}=c,j={step:"initialize",priority:"normal",middleware:b,...c},k=d(f,h);if(k.length>0){if(k.some(a=>i.has(a))){if(!g)throw Error(`Duplicate middleware name '${e(f,h)}'`);for(let b of k){let c=a.findIndex(a=>a.name===b||a.aliases?.some(a=>a===b));if(-1===c)continue;let d=a[c];if(d.step!==j.step||j.priority!==d.priority)throw Error(`"${e(d.name,d.aliases)}" middleware with ${d.priority} priority in ${d.step} step cannot be overridden by "${e(f,h)}" middleware with ${j.priority} priority in ${j.step} step.`);a.splice(c,1)}}for(let a of k)i.add(a)}a.push(j)},addRelativeTo:(a,c)=>{let{name:f,override:g,aliases:h}=c,j={middleware:a,...c},k=d(f,h);if(k.length>0){if(k.some(a=>i.has(a))){if(!g)throw Error(`Duplicate middleware name '${e(f,h)}'`);for(let a of k){let c=b.findIndex(b=>b.name===a||b.aliases?.some(b=>b===a));if(-1===c)continue;let d=b[c];if(d.toMiddleware!==j.toMiddleware||d.relation!==j.relation)throw Error(`"${e(d.name,d.aliases)}" middleware ${d.relation} "${d.toMiddleware}" middleware cannot be overridden by "${e(f,h)}" middleware ${j.relation} "${j.toMiddleware}" middleware.`);b.splice(c,1)}}for(let a of k)i.add(a)}b.push(j)},clone:()=>j(f()),use:a=>{a.applyToStack(m)},remove:c=>"string"==typeof c?(c=>{let e=!1,f=a=>{let b=d(a.name,a.aliases);if(b.includes(c)){for(let a of(e=!0,b))i.delete(a);return!1}return!0};return a=a.filter(f),b=b.filter(f),e})(c):(c=>{let e=!1,f=a=>{if(a.middleware===c){for(let b of(e=!0,d(a.name,a.aliases)))i.delete(b);return!1}return!0};return a=a.filter(f),b=b.filter(f),e})(c),removeByTag:c=>{let e=!1,f=a=>{let{tags:b,name:f,aliases:g}=a;if(b&&b.includes(c)){for(let a of d(f,g))i.delete(a);return e=!0,!1}return!0};return a=a.filter(f),b=b.filter(f),e},concat:a=>{let b=j(f());return b.use(a),b.identifyOnResolve(c||b.identifyOnResolve()||(a.identifyOnResolve?.()??!1)),b},applyToStack:j,identify:()=>l(!0).map(a=>{let b=a.step??a.relation+" "+a.toMiddleware;return e(a.name,a.aliases)+" - "+b}),identifyOnResolve:a=>("boolean"==typeof a&&(c=a),c),resolve:(a,b)=>{for(let c of l().map(a=>a.middleware).reverse())a=c(a,b);return c&&console.log(m.identify()),a}};return m},g={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},h={high:3,normal:2,low:1};class i{constructor(a){this.config=a,this.middlewareStack=f()}send(a,b,c){let d,e="function"!=typeof b?b:void 0,f="function"==typeof b?b:c;if(void 0===e&&!0===this.config.cacheMiddleware){this.handlers||(this.handlers=new WeakMap);let b=this.handlers;b.has(a.constructor)?d=b.get(a.constructor):(d=a.resolveMiddleware(this.middlewareStack,this.config,e),b.set(a.constructor,d))}else delete this.handlers,d=a.resolveMiddleware(this.middlewareStack,this.config,e);if(!f)return d(a).then(a=>a.output);d(a).then(a=>f(null,a.output),a=>f(a)).catch(()=>{})}destroy(){this.config?.requestHandler?.destroy?.(),delete this.handlers}}var j=c(62908);let k=async(a=new Uint8Array,b)=>{if(a instanceof Uint8Array)return j.Mu.mutate(a);if(!a)return j.Mu.mutate(new Uint8Array);let c=b.streamCollector(a);return j.Mu.mutate(await c)};var l=c(95853);class m{constructor(){this.middlewareStack=f()}static classBuilder(){return new n}resolveMiddlewareWithContext(a,b,c,{middlewareFn:d,clientName:e,commandName:f,inputFilterSensitiveLog:g,outputFilterSensitiveLog:h,smithyContext:i,additionalContext:j,CommandCtor:k}){for(let e of d.bind(this)(k,a,b,c))this.middlewareStack.use(e);let m=a.concat(this.middlewareStack),{logger:n}=b,o={logger:n,clientName:e,commandName:f,inputFilterSensitiveLog:g,outputFilterSensitiveLog:h,[l.Vf]:{commandInstance:this,...i},...j},{requestHandler:p}=b;return m.resolve(a=>p.handle(a.request,c||{}),o)}}class n{constructor(){this._init=()=>{},this._ep={},this._middlewareFn=()=>[],this._commandName="",this._clientName="",this._additionalContext={},this._smithyContext={},this._inputFilterSensitiveLog=a=>a,this._outputFilterSensitiveLog=a=>a,this._serializer=null,this._deserializer=null}init(a){this._init=a}ep(a){return this._ep=a,this}m(a){return this._middlewareFn=a,this}s(a,b,c={}){return this._smithyContext={service:a,operation:b,...c},this}c(a={}){return this._additionalContext=a,this}n(a,b){return this._clientName=a,this._commandName=b,this}f(a=a=>a,b=a=>a){return this._inputFilterSensitiveLog=a,this._outputFilterSensitiveLog=b,this}ser(a){return this._serializer=a,this}de(a){return this._deserializer=a,this}sc(a){return this._operationSchema=a,this._smithyContext.operationSchema=a,this}build(){let a,b=this;return a=class extends m{static getEndpointParameterInstructions(){return b._ep}constructor(...[a]){super(),this.serialize=b._serializer,this.deserialize=b._deserializer,this.input=a??{},b._init(this),this.schema=b._operationSchema}resolveMiddleware(c,d,e){return this.resolveMiddlewareWithContext(c,d,e,{CommandCtor:a,middlewareFn:b._middlewareFn,clientName:b._clientName,commandName:b._commandName,inputFilterSensitiveLog:b._inputFilterSensitiveLog,outputFilterSensitiveLog:b._outputFilterSensitiveLog,smithyContext:b._smithyContext,additionalContext:b._additionalContext})}}}}let o="***SensitiveInformation***",p=(a,b)=>{for(let c of Object.keys(a)){let d=a[c],e=async function(a,b,c){let e=new d(a);if("function"==typeof b)this.send(e,b);else{if("function"!=typeof c)return this.send(e,b);if("object"!=typeof b)throw Error(`Expected http options but got ${typeof b}`);this.send(e,b||{},c)}},f=(c[0].toLowerCase()+c.slice(1)).replace(/Command$/,"");b.prototype[f]=e}};class q extends Error{constructor(a){super(a.message),Object.setPrototypeOf(this,Object.getPrototypeOf(this).constructor.prototype),this.name=a.name,this.$fault=a.$fault,this.$metadata=a.$metadata}static isInstance(a){return!!a&&(q.prototype.isPrototypeOf(a)||!!a.$fault&&!!a.$metadata&&("client"===a.$fault||"server"===a.$fault))}static[Symbol.hasInstance](a){return!!a&&(this===q?q.isInstance(a):!!q.isInstance(a)&&(a.name&&this.name?this.prototype.isPrototypeOf(a)||a.name===this.name:this.prototype.isPrototypeOf(a)))}}let r=(a,b={})=>{Object.entries(b).filter(([,a])=>void 0!==a).forEach(([b,c])=>{(void 0==a[b]||""===a[b])&&(a[b]=c)});let c=a.message||a.Message||"UnknownError";return a.message=c,delete a.Message,a},s=a=>({output:b,parsedBody:c,errorCode:d})=>{(({output:a,parsedBody:b,exceptionCtor:c,errorCode:d})=>{let e=t(a),f=e.httpStatusCode?e.httpStatusCode+"":void 0;throw r(new c({name:b?.code||b?.Code||d||f||"UnknownError",$fault:"client",$metadata:e}),b)})({output:b,parsedBody:c,exceptionCtor:a,errorCode:d})},t=a=>({httpStatusCode:a.statusCode,requestId:a.headers["x-amzn-requestid"]??a.headers["x-amzn-request-id"]??a.headers["x-amz-request-id"],extendedRequestId:a.headers["x-amz-id-2"],cfId:a.headers["x-amz-cf-id"]}),u=a=>{switch(a){case"standard":case"cross-region":return{retryMode:"standard",connectionTimeout:3100};case"in-region":return{retryMode:"standard",connectionTimeout:1100};case"mobile":return{retryMode:"standard",connectionTimeout:3e4};default:return{}}},v=!1,w=a=>{a&&!v&&16>parseInt(a.substring(1,a.indexOf(".")))&&(v=!0)};var x=c(84842);let y=a=>Object.assign((a=>{let b=[];for(let c in l.dB){let d=l.dB[c];void 0!==a[d]&&b.push({algorithmId:()=>d,checksumConstructor:()=>a[d]})}return{addChecksumAlgorithm(a){b.push(a)},checksumAlgorithms:()=>b}})(a),(a=>({setRetryStrategy(b){a.retryStrategy=b},retryStrategy:()=>a.retryStrategy}))(a)),z=a=>Object.assign((a=>{let b={};return a.checksumAlgorithms().forEach(a=>{b[a.algorithmId()]=a.checksumConstructor()}),b})(a),(a=>{let b={};return b.retryStrategy=a.retryStrategy(),b})(a)),A=a=>{let b="#text";for(let c in a)a.hasOwnProperty(c)&&void 0!==a[c][b]?a[c]=a[c][b]:"object"==typeof a[c]&&null!==a[c]&&(a[c]=A(a[c]));return a},B=a=>null!=a;class C{trace(){}debug(){}info(){}warn(){}error(){}}function D(a,b,c){let d,e;if(void 0===b&&void 0===c)d={},e=a;else{if(d=a,"function"==typeof b)return F(d,b,e=c);e=b}for(let a of Object.keys(e)){if(!Array.isArray(e[a])){d[a]=e[a];continue}G(d,null,e,a)}return d}let E=(a,b)=>{let c={};for(let d in b)G(c,a,b,d);return c},F=(a,b,c)=>D(a,Object.entries(c).reduce((a,[c,d])=>(Array.isArray(d)?a[c]=d:"function"==typeof d?a[c]=[b,d()]:a[c]=[b,d],a),{})),G=(a,b,c,d)=>{if(null!==b){let e=c[d];"function"==typeof e&&(e=[,e]);let[f=H,g=I,h=d]=e;("function"==typeof f&&f(b[h])||"function"!=typeof f&&f)&&(a[d]=g(b[h]));return}let[e,f]=c[d];if("function"==typeof f){let b,c=void 0===e&&null!=(b=f()),g="function"==typeof e&&!!e(void 0)||"function"!=typeof e&&!!e;c?a[d]=b:g&&(a[d]=f())}else{let b=void 0===e&&null!=f,c="function"==typeof e&&!!e(f)||"function"!=typeof e&&!!e;(b||c)&&(a[d]=f)}},H=a=>null!=a,I=a=>a,J=a=>{if(null==a)return{};if(Array.isArray(a))return a.filter(a=>null!=a).map(J);if("object"==typeof a){let b={};for(let c of Object.keys(a))null!=a[c]&&(b[c]=J(a[c]));return b}return a},K=a=>{if(null!=a){if("string"==typeof a){let b=parseFloat(a);if(!Number.isNaN(b))return String(b)!==String(a)&&$.warn(Z(`Expected number but observed string: ${a}`)),b}if("number"==typeof a)return a;throw TypeError(`Expected number, got ${typeof a}: ${a}`)}},L=Math.ceil(17014118346046923e22*(2-11920928955078125e-23)),M=a=>{let b=K(a);if(void 0!==b&&!Number.isNaN(b)&&b!==1/0&&b!==-1/0&&Math.abs(b)>L)throw TypeError(`Expected 32-bit float, got ${a}`);return b},N=a=>Q(a,32),O=a=>Q(a,16),P=a=>Q(a,8),Q=(a,b)=>{let c=(a=>{if(null!=a){if(Number.isInteger(a)&&!Number.isNaN(a))return a;throw TypeError(`Expected integer, got ${typeof a}: ${a}`)}})(a);if(void 0!==c&&R(c,b)!==c)throw TypeError(`Expected ${b}-bit integer, got ${a}`);return c},R=(a,b)=>{switch(b){case 32:return Int32Array.of(a)[0];case 16:return Int16Array.of(a)[0];case 8:return Int8Array.of(a)[0]}},S=(a,b)=>{if(null==a){if(b)throw TypeError(`Expected a non-null value for ${b}`);throw TypeError("Expected a non-null value")}return a},T=a=>{if(null==a)return;if("object"==typeof a&&!Array.isArray(a))return a;let b=Array.isArray(a)?"array":typeof a;throw TypeError(`Expected object, got ${b}: ${a}`)},U=a=>{if(null!=a){if("string"==typeof a)return a;if(["boolean","number","bigint"].includes(typeof a))return $.warn(Z(`Expected string, got ${typeof a}: ${a}`)),String(a);throw TypeError(`Expected string, got ${typeof a}: ${a}`)}},V=/(-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?)|(-?Infinity)|(NaN)/g,W=a=>{let b=a.match(V);if(null===b||b[0].length!==a.length)throw TypeError("Expected real number, got implicit NaN");return parseFloat(a)},X=a=>"string"==typeof a?N(W(a)):N(a),Y=a=>"string"==typeof a?O(W(a)):O(a),Z=a=>String(TypeError(a).stack||a).split("\n").slice(0,5).filter(a=>!a.includes("stackTraceWarning")).join("\n"),$={warn:console.warn},_=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],aa=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?[zZ]$/),ab=a=>{if(null==a)return;if("string"!=typeof a)throw TypeError("RFC-3339 date-times must be expressed as strings");let b=aa.exec(a);if(!b)throw TypeError("Invalid RFC-3339 date-time value");let[c,d,e,f,g,h,i,j]=b,k=Y(am(d));return af(k,aj(e,"month",1,12),aj(f,"day",1,31),{hours:g,minutes:h,seconds:i,fractionalMilliseconds:j})},ac=new RegExp(/^(\d{4})-(\d{2})-(\d{2})[tT](\d{2}):(\d{2}):(\d{2})(?:\.(\d+))?(([-+]\d{2}\:\d{2})|[zZ])$/),ad=a=>{if(null==a)return;if("string"!=typeof a)throw TypeError("RFC-3339 date-times must be expressed as strings");let b=ac.exec(a);if(!b)throw TypeError("Invalid RFC-3339 date-time value");let[c,d,e,f,g,h,i,j,k]=b,l=Y(am(d)),m=af(l,aj(e,"month",1,12),aj(f,"day",1,31),{hours:g,minutes:h,seconds:i,fractionalMilliseconds:j});return"Z"!=k.toUpperCase()&&m.setTime(m.getTime()-al(k)),m},ae=a=>{let b;if(null!=a){if("number"==typeof a)b=a;else if("string"==typeof a)b=(a=>"string"==typeof a?K(W(a)):K(a))(a);else if("object"==typeof a&&1===a.tag)b=a.value;else throw TypeError("Epoch timestamps must be expressed as floating point numbers or their string representation");if(Number.isNaN(b)||b===1/0||b===-1/0)throw TypeError("Epoch timestamps must be valid, non-Infinite, non-NaN numerics");return new Date(Math.round(1e3*b))}},af=(a,b,c,d)=>{let e=b-1;return ah(a,e,c),new Date(Date.UTC(a,e,c,aj(d.hours,"hour",0,23),aj(d.minutes,"minute",0,59),aj(d.seconds,"seconds",0,60),ak(d.fractionalMilliseconds)))},ag=[31,28,31,30,31,30,31,31,30,31,30,31],ah=(a,b,c)=>{let d=ag[b];if(1===b&&ai(a)&&(d=29),c>d)throw TypeError(`Invalid day for ${_[b]} in ${a}: ${c}`)},ai=a=>a%4==0&&(a%100!=0||a%400==0),aj=(a,b,c,d)=>{let e=(a=>"string"==typeof a?P(W(a)):P(a))(am(a));if(e<c||e>d)throw TypeError(`${b} must be between ${c} and ${d}, inclusive`);return e},ak=a=>null==a?0:1e3*(a=>"string"==typeof a?M(W(a)):M(a))("0."+a),al=a=>{let b=a[0],c=1;if("+"==b)c=1;else if("-"==b)c=-1;else throw TypeError(`Offset direction, ${b}, must be "+" or "-"`);return c*(60*Number(a.substring(1,3))+Number(a.substring(4,6)))*6e4},am=a=>{let b=0;for(;b<a.length-1&&"0"===a.charAt(b);)b++;return 0===b?a:a.slice(b)}},43071:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.uint32ArrayFrom=b.numToUint8=b.isEmptyData=b.convertToBuffer=void 0;var d=c(20743);Object.defineProperty(b,"convertToBuffer",{enumerable:!0,get:function(){return d.convertToBuffer}});var e=c(22134);Object.defineProperty(b,"isEmptyData",{enumerable:!0,get:function(){return e.isEmptyData}});var f=c(56852);Object.defineProperty(b,"numToUint8",{enumerable:!0,get:function(){return f.numToUint8}});var g=c(33017);Object.defineProperty(b,"uint32ArrayFrom",{enumerable:!0,get:function(){return g.uint32ArrayFrom}})},43229:(a,b,c)=>{c.d(b,{$c:()=>n,kv:()=>p});var d=c(98853),e=c(38266),f=c(81630),g=c(55591);let h=["ECONNRESET","EPIPE","ETIMEDOUT"],i={setTimeout:(a,b)=>setTimeout(a,b),clearTimeout:a=>clearTimeout(a)},j=3e3;var k=c(27910);async function l(a,b,c=6e3){var d,e;let f=b.headers??{},g=f.Expect||f.expect,h=-1,j=!0;"100-continue"===g&&(j=await Promise.race([new Promise(a=>{h=Number(i.setTimeout(()=>a(!0),Math.max(6e3,c)))}),new Promise(b=>{a.on("continue",()=>{i.clearTimeout(h),b(!0)}),a.on("response",()=>{i.clearTimeout(h),b(!1)}),a.on("error",()=>{i.clearTimeout(h),b(!1)})})])),j&&(d=a,(e=b.body)instanceof k.Readable?e.pipe(d):e?Buffer.isBuffer(e)||"string"==typeof e?d.end(e):"object"==typeof e&&e.buffer&&"number"==typeof e.byteOffset&&"number"==typeof e.byteLength?d.end(Buffer.from(e.buffer,e.byteOffset,e.byteLength)):d.end(Buffer.from(e)):d.end())}let m=0;class n{static create(a){return"function"==typeof a?.handle?a:new n(a)}static checkSocketUsage(a,b,c=console){let{sockets:d,requests:e,maxSockets:f}=a;if("number"!=typeof f||f===1/0||Date.now()-15e3<b)return b;if(d&&e)for(let a in d){let b=d[a]?.length??0,g=e[a]?.length??0;if(b>=f&&g>=2*f)return c?.warn?.(`@smithy/node-http-handler:WARN - socket usage at capacity=${b} and ${g} additional requests are enqueued.
See https://docs.aws.amazon.com/sdk-for-javascript/v3/developer-guide/node-configuring-maxsockets.html
or increase socketAcquisitionWarningTimeout=(millis) in the NodeHttpHandler config.`),Date.now()}return b}constructor(a){this.socketWarningTimestamp=0,this.metadata={handlerProtocol:"http/1.1"},this.configProvider=new Promise((b,c)=>{"function"==typeof a?a().then(a=>{b(this.resolveDefaultConfig(a))}).catch(c):b(this.resolveDefaultConfig(a))})}resolveDefaultConfig(a){let{requestTimeout:b,connectionTimeout:c,socketTimeout:d,socketAcquisitionWarningTimeout:e,httpAgent:h,httpsAgent:i}=a||{};return{connectionTimeout:c,requestTimeout:b??d,socketAcquisitionWarningTimeout:e,httpAgent:h instanceof f.Agent||"function"==typeof h?.destroy?h:new f.Agent({keepAlive:!0,maxSockets:50,...h}),httpsAgent:i instanceof g.Agent||"function"==typeof i?.destroy?i:new g.Agent({keepAlive:!0,maxSockets:50,...i}),logger:console}}destroy(){this.config?.httpAgent?.destroy(),this.config?.httpsAgent?.destroy()}async handle(a,{abortSignal:b,requestTimeout:c}={}){return this.config||(this.config=await this.configProvider),new Promise((k,o)=>{let p,q,r=[],s=async a=>{await p,r.forEach(i.clearTimeout),k(a)},t=async a=>{await p,r.forEach(i.clearTimeout),o(a)};if(!this.config)throw Error("Node HTTP request handler config is not resolved");if(b?.aborted){let a=Error("Request aborted");a.name="AbortError",t(a);return}let u="https:"===a.protocol,v=u?this.config.httpsAgent:this.config.httpAgent;r.push(i.setTimeout(()=>{this.socketWarningTimestamp=n.checkSocketUsage(v,this.socketWarningTimestamp,this.config.logger)},this.config.socketAcquisitionWarningTimeout??(this.config.requestTimeout??2e3)+(this.config.connectionTimeout??1e3)));let w=function(a){let b=[];for(let c of Object.keys(a).sort()){let d=a[c];if(c=(0,e.o)(c),Array.isArray(d))for(let a=0,f=d.length;a<f;a++)b.push(`${c}=${(0,e.o)(d[a])}`);else{let a=c;(d||"string"==typeof d)&&(a+=`=${(0,e.o)(d)}`),b.push(a)}}return b.join("&")}(a.query||{});if(null!=a.username||null!=a.password){let b=a.username??"",c=a.password??"";q=`${b}:${c}`}let x=a.path;w&&(x+=`?${w}`),a.fragment&&(x+=`#${a.fragment}`);let y=a.hostname??"";y="["===y[0]&&y.endsWith("]")?a.hostname.slice(1,-1):a.hostname;let z={headers:a.headers,host:y,method:a.method,path:x,port:a.port,agent:v,auth:q},A=(u?g.request:f.request)(z,a=>{s({response:new d.cS({statusCode:a.statusCode||-1,reason:a.statusMessage,headers:(a=>{let b={};for(let c of Object.keys(a)){let d=a[c];b[c]=Array.isArray(d)?d.join(","):d}return b})(a.headers),body:a})})});if(A.on("error",a=>{h.includes(a.code)?t(Object.assign(a,{name:"TimeoutError"})):t(a)}),b){let a=()=>{A.destroy();let a=Error("Request aborted");a.name="AbortError",t(a)};"function"==typeof b.addEventListener?(b.addEventListener("abort",a,{once:!0}),A.once("close",()=>b.removeEventListener("abort",a))):b.onabort=a}let B=c??this.config.requestTimeout;r.push(((a,b,c=0)=>{if(!c)return -1;let d=d=>{let e=i.setTimeout(()=>{a.destroy(),b(Object.assign(Error(`Socket timed out without establishing a connection within ${c} ms`),{name:"TimeoutError"}))},c-d),f=a=>{a?.connecting?a.on("connect",()=>{i.clearTimeout(e)}):i.clearTimeout(e)};a.socket?f(a.socket):a.on("socket",f)};return c<2e3?(d(0),0):i.setTimeout(d.bind(null,1e3),1e3)})(A,t,this.config.connectionTimeout)),r.push(((a,b,c=m)=>{let d=d=>{let e=c-d,f=()=>{a.destroy(),b(Object.assign(Error(`Connection timed out after ${c} ms`),{name:"TimeoutError"}))};a.socket?(a.socket.setTimeout(e,f),a.on("close",()=>a.socket?.removeListener("timeout",f))):a.setTimeout(e,f)};return 0<c&&c<6e3?(d(0),0):i.setTimeout(d.bind(null,3e3*(0!==c)),3e3)})(A,t,B));let C=z.agent;"object"==typeof C&&"keepAlive"in C&&r.push(((a,{keepAlive:b,keepAliveMsecs:c},d=j)=>{if(!0!==b)return -1;let e=()=>{a.socket?a.socket.setKeepAlive(b,c||0):a.on("socket",a=>{a.setKeepAlive(b,c||0)})};return 0===d?(e(),0):i.setTimeout(e,d)})(A,{keepAlive:C.keepAlive,keepAliveMsecs:C.keepAliveMsecs})),p=l(A,a,B).catch(a=>(r.forEach(i.clearTimeout),o(a)))})}updateHttpClientConfig(a,b){this.config=void 0,this.configProvider=this.configProvider.then(c=>({...c,[a]:b}))}httpHandlerConfigs(){return this.config??{}}}c(73496),Symbol.iterator;class o extends k.Writable{constructor(){super(...arguments),this.bufferedBytes=[]}_write(a,b,c){this.bufferedBytes.push(a),c()}}let p=a=>q(a)?r(a):new Promise((b,c)=>{let d=new o;a.pipe(d),a.on("error",a=>{d.end(),c(a)}),d.on("error",c),d.on("finish",function(){b(new Uint8Array(Buffer.concat(this.bufferedBytes)))})}),q=a=>"function"==typeof ReadableStream&&a instanceof ReadableStream;async function r(a){let b=[],c=a.getReader(),d=!1,e=0;for(;!d;){let{done:a,value:f}=await c.read();f&&(b.push(f),e+=f.length),d=a}let f=new Uint8Array(e),g=0;for(let a of b)f.set(a,g),g+=a.length;return f}},45359:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.numToUint8=void 0,b.numToUint8=function(a){return new Uint8Array([(0xff000000&a)>>24,(0xff0000&a)>>16,(65280&a)>>8,255&a])}},49456:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createMechanism=void 0;let d=c(82442);b.createMechanism=(a,b=d.TYPE)=>({mechanism:b,authenticationProvider:(0,d.createAuthenticator)(a)})},50153:(a,b,c)=>{c.r(b),c.d(b,{__assign:()=>f,__asyncDelegator:()=>u,__asyncGenerator:()=>t,__asyncValues:()=>v,__await:()=>s,__awaiter:()=>k,__classPrivateFieldGet:()=>z,__classPrivateFieldSet:()=>A,__createBinding:()=>m,__decorate:()=>h,__exportStar:()=>n,__extends:()=>e,__generator:()=>l,__importDefault:()=>y,__importStar:()=>x,__makeTemplateObject:()=>w,__metadata:()=>j,__param:()=>i,__read:()=>p,__rest:()=>g,__spread:()=>q,__spreadArrays:()=>r,__values:()=>o});var d=function(a,b){return(d=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])})(a,b)};function e(a,b){function c(){this.constructor=a}d(a,b),a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}var f=function(){return(f=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++)for(var e in b=arguments[c])Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e]);return a}).apply(this,arguments)};function g(a,b){var c={};for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&0>b.indexOf(d)&&(c[d]=a[d]);if(null!=a&&"function"==typeof Object.getOwnPropertySymbols)for(var e=0,d=Object.getOwnPropertySymbols(a);e<d.length;e++)0>b.indexOf(d[e])&&Object.prototype.propertyIsEnumerable.call(a,d[e])&&(c[d[e]]=a[d[e]]);return c}function h(a,b,c,d){var e,f=arguments.length,g=f<3?b:null===d?d=Object.getOwnPropertyDescriptor(b,c):d;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)g=Reflect.decorate(a,b,c,d);else for(var h=a.length-1;h>=0;h--)(e=a[h])&&(g=(f<3?e(g):f>3?e(b,c,g):e(b,c))||g);return f>3&&g&&Object.defineProperty(b,c,g),g}function i(a,b){return function(c,d){b(c,d,a)}}function j(a,b){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(a,b)}function k(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})}function l(a,b){var c,d,e,f,g={label:0,sent:function(){if(1&e[0])throw e[1];return e[1]},trys:[],ops:[]};return f={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(f[Symbol.iterator]=function(){return this}),f;function h(f){return function(h){var i=[f,h];if(c)throw TypeError("Generator is already executing.");for(;g;)try{if(c=1,d&&(e=2&i[0]?d.return:i[0]?d.throw||((e=d.return)&&e.call(d),0):d.next)&&!(e=e.call(d,i[1])).done)return e;switch(d=0,e&&(i=[2&i[0],e.value]),i[0]){case 0:case 1:e=i;break;case 4:return g.label++,{value:i[1],done:!1};case 5:g.label++,d=i[1],i=[0];continue;case 7:i=g.ops.pop(),g.trys.pop();continue;default:if(!(e=(e=g.trys).length>0&&e[e.length-1])&&(6===i[0]||2===i[0])){g=0;continue}if(3===i[0]&&(!e||i[1]>e[0]&&i[1]<e[3])){g.label=i[1];break}if(6===i[0]&&g.label<e[1]){g.label=e[1],e=i;break}if(e&&g.label<e[2]){g.label=e[2],g.ops.push(i);break}e[2]&&g.ops.pop(),g.trys.pop();continue}i=b.call(a,g)}catch(a){i=[6,a],d=0}finally{c=e=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}}}function m(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}function n(a,b){for(var c in a)"default"===c||b.hasOwnProperty(c)||(b[c]=a[c])}function o(a){var b="function"==typeof Symbol&&Symbol.iterator,c=b&&a[b],d=0;if(c)return c.call(a);if(a&&"number"==typeof a.length)return{next:function(){return a&&d>=a.length&&(a=void 0),{value:a&&a[d++],done:!a}}};throw TypeError(b?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(a,b){var c="function"==typeof Symbol&&a[Symbol.iterator];if(!c)return a;var d,e,f=c.call(a),g=[];try{for(;(void 0===b||b-- >0)&&!(d=f.next()).done;)g.push(d.value)}catch(a){e={error:a}}finally{try{d&&!d.done&&(c=f.return)&&c.call(f)}finally{if(e)throw e.error}}return g}function q(){for(var a=[],b=0;b<arguments.length;b++)a=a.concat(p(arguments[b]));return a}function r(){for(var a=0,b=0,c=arguments.length;b<c;b++)a+=arguments[b].length;for(var d=Array(a),e=0,b=0;b<c;b++)for(var f=arguments[b],g=0,h=f.length;g<h;g++,e++)d[e]=f[g];return d}function s(a){return this instanceof s?(this.v=a,this):new s(a)}function t(a,b,c){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var d,e=c.apply(a,b||[]),f=[];return d={},g("next"),g("throw"),g("return"),d[Symbol.asyncIterator]=function(){return this},d;function g(a){e[a]&&(d[a]=function(b){return new Promise(function(c,d){f.push([a,b,c,d])>1||h(a,b)})})}function h(a,b){try{var c;(c=e[a](b)).value instanceof s?Promise.resolve(c.value.v).then(i,j):k(f[0][2],c)}catch(a){k(f[0][3],a)}}function i(a){h("next",a)}function j(a){h("throw",a)}function k(a,b){a(b),f.shift(),f.length&&h(f[0][0],f[0][1])}}function u(a){var b,c;return b={},d("next"),d("throw",function(a){throw a}),d("return"),b[Symbol.iterator]=function(){return this},b;function d(d,e){b[d]=a[d]?function(b){return(c=!c)?{value:s(a[d](b)),done:"return"===d}:e?e(b):b}:e}}function v(a){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var b,c=a[Symbol.asyncIterator];return c?c.call(a):(a=o(a),b={},d("next"),d("throw"),d("return"),b[Symbol.asyncIterator]=function(){return this},b);function d(c){b[c]=a[c]&&function(b){return new Promise(function(d,e){var f,g,h;f=d,g=e,h=(b=a[c](b)).done,Promise.resolve(b.value).then(function(a){f({value:a,done:h})},g)})}}}function w(a,b){return Object.defineProperty?Object.defineProperty(a,"raw",{value:b}):a.raw=b,a}function x(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b.default=a,b}function y(a){return a&&a.__esModule?a:{default:a}}function z(a,b){if(!b.has(a))throw TypeError("attempted to get private field on non-instance");return b.get(a)}function A(a,b,c){if(!b.has(a))throw TypeError("attempted to set private field on non-instance");return b.set(a,c),c}},53930:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.AwsCrc32=b.Crc32=b.crc32=void 0;var d=c(50153),e=c(69322);b.crc32=function(a){return new f().update(a).digest()};var f=function(){function a(){this.checksum=0xffffffff}return a.prototype.update=function(a){var b,c;try{for(var e=d.__values(a),f=e.next();!f.done;f=e.next()){var h=f.value;this.checksum=this.checksum>>>8^g[(this.checksum^h)&255]}}catch(a){b={error:a}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(b)throw b.error}}return this},a.prototype.digest=function(){return(0xffffffff^this.checksum)>>>0},a}();b.Crc32=f;var g=(0,e.uint32ArrayFrom)([0,0x77073096,0xee0e612c,0x990951ba,0x76dc419,0x706af48f,0xe963a535,0x9e6495a3,0xedb8832,0x79dcb8a4,0xe0d5e91e,0x97d2d988,0x9b64c2b,0x7eb17cbd,0xe7b82d07,0x90bf1d91,0x1db71064,0x6ab020f2,0xf3b97148,0x84be41de,0x1adad47d,0x6ddde4eb,0xf4d4b551,0x83d385c7,0x136c9856,0x646ba8c0,0xfd62f97a,0x8a65c9ec,0x14015c4f,0x63066cd9,0xfa0f3d63,0x8d080df5,0x3b6e20c8,0x4c69105e,0xd56041e4,0xa2677172,0x3c03e4d1,0x4b04d447,0xd20d85fd,0xa50ab56b,0x35b5a8fa,0x42b2986c,0xdbbbc9d6,0xacbcf940,0x32d86ce3,0x45df5c75,0xdcd60dcf,0xabd13d59,0x26d930ac,0x51de003a,0xc8d75180,0xbfd06116,0x21b4f4b5,0x56b3c423,0xcfba9599,0xb8bda50f,0x2802b89e,0x5f058808,0xc60cd9b2,0xb10be924,0x2f6f7c87,0x58684c11,0xc1611dab,0xb6662d3d,0x76dc4190,0x1db7106,0x98d220bc,0xefd5102a,0x71b18589,0x6b6b51f,0x9fbfe4a5,0xe8b8d433,0x7807c9a2,0xf00f934,0x9609a88e,0xe10e9818,0x7f6a0dbb,0x86d3d2d,0x91646c97,0xe6635c01,0x6b6b51f4,0x1c6c6162,0x856530d8,0xf262004e,0x6c0695ed,0x1b01a57b,0x8208f4c1,0xf50fc457,0x65b0d9c6,0x12b7e950,0x8bbeb8ea,0xfcb9887c,0x62dd1ddf,0x15da2d49,0x8cd37cf3,0xfbd44c65,0x4db26158,0x3ab551ce,0xa3bc0074,0xd4bb30e2,0x4adfa541,0x3dd895d7,0xa4d1c46d,0xd3d6f4fb,0x4369e96a,0x346ed9fc,0xad678846,0xda60b8d0,0x44042d73,0x33031de5,0xaa0a4c5f,0xdd0d7cc9,0x5005713c,0x270241aa,0xbe0b1010,0xc90c2086,0x5768b525,0x206f85b3,0xb966d409,0xce61e49f,0x5edef90e,0x29d9c998,0xb0d09822,0xc7d7a8b4,0x59b33d17,0x2eb40d81,0xb7bd5c3b,0xc0ba6cad,0xedb88320,0x9abfb3b6,0x3b6e20c,0x74b1d29a,0xead54739,0x9dd277af,0x4db2615,0x73dc1683,0xe3630b12,0x94643b84,0xd6d6a3e,0x7a6a5aa8,0xe40ecf0b,0x9309ff9d,0xa00ae27,0x7d079eb1,0xf00f9344,0x8708a3d2,0x1e01f268,0x6906c2fe,0xf762575d,0x806567cb,0x196c3671,0x6e6b06e7,0xfed41b76,0x89d32be0,0x10da7a5a,0x67dd4acc,0xf9b9df6f,0x8ebeeff9,0x17b7be43,0x60b08ed5,0xd6d6a3e8,0xa1d1937e,0x38d8c2c4,0x4fdff252,0xd1bb67f1,0xa6bc5767,0x3fb506dd,0x48b2364b,0xd80d2bda,0xaf0a1b4c,0x36034af6,0x41047a60,0xdf60efc3,0xa867df55,0x316e8eef,0x4669be79,0xcb61b38c,0xbc66831a,0x256fd2a0,0x5268e236,0xcc0c7795,0xbb0b4703,0x220216b9,0x5505262f,0xc5ba3bbe,0xb2bd0b28,0x2bb45a92,0x5cb36a04,0xc2d7ffa7,0xb5d0cf31,0x2cd99e8b,0x5bdeae1d,0x9b64c2b0,0xec63f226,0x756aa39c,0x26d930a,0x9c0906a9,0xeb0e363f,0x72076785,0x5005713,0x95bf4a82,0xe2b87a14,0x7bb12bae,0xcb61b38,0x92d28e9b,0xe5d5be0d,0x7cdcefb7,0xbdbdf21,0x86d3d2d4,0xf1d4e242,0x68ddb3f8,0x1fda836e,0x81be16cd,0xf6b9265b,0x6fb077e1,0x18b74777,0x88085ae6,0xff0f6a70,0x66063bca,0x11010b5c,0x8f659eff,0xf862ae69,0x616bffd3,0x166ccf45,0xa00ae278,0xd70dd2ee,0x4e048354,0x3903b3c2,0xa7672661,0xd06016f7,0x4969474d,0x3e6e77db,0xaed16a4a,0xd9d65adc,0x40df0b66,936918e3,0xa9bcae53,0xdebb9ec5,0x47b2cf7f,0x30b5ffe9,0xbdbdf21c,0xcabac28a,0x53b39330,0x24b4a3a6,0xbad03605,0xcdd70693,0x54de5729,0x23d967bf,0xb3667a2e,0xc4614ab8,0x5d681b02,0x2a6f2b94,0xb40bbe37,0xc30c8ea1,0x5a05df1b,0x2d02ef8d]),h=c(30915);Object.defineProperty(b,"AwsCrc32",{enumerable:!0,get:function(){return h.AwsCrc32}})},55303:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createSaslAuthenticationRequest=void 0;let d=c(82442);b.createSaslAuthenticationRequest=a=>({encode:()=>{let b=JSON.stringify(a),c=Buffer.byteLength(b,"utf8"),e=Buffer.alloc(d.INT32_SIZE+c);return e.writeUInt32BE(c,0),e.write(b,d.INT32_SIZE,c,"utf8"),e}})},56852:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.numToUint8=void 0,b.numToUint8=function(a){return new Uint8Array([(0xff000000&a)>>24,(0xff0000&a)>>16,(65280&a)>>8,255&a])}},58776:(a,b,c)=>{c.r(b),c.d(b,{createCredentialChain:()=>e,fromCognitoIdentity:()=>i,fromCognitoIdentityPool:()=>n,fromContainerMetadata:()=>p,fromEnv:()=>s,fromHttp:()=>q.fromHttp,fromIni:()=>u,fromInstanceMetadata:()=>w,fromNodeProviderChain:()=>y,fromProcess:()=>A,fromSSO:()=>C,fromTemporaryCredentials:()=>I,fromTokenFile:()=>K,fromWebToken:()=>L,propertyProviderChain:()=>f});var d=c(30716);let e=(...a)=>{let b=-1,c=Object.assign(async c=>{let d=await f(...a)(c);return d.expiration||-1===b||(d.expiration=new Date(Date.now()+b)),d},{expireAfter(a){if(a<3e5)throw Error("@aws-sdk/credential-providers - createCredentialChain(...).expireAfter(ms) may not be called with a duration lower than five minutes.");return b=a,c}});return c},f=(...a)=>async b=>{let c;if(0===a.length)throw new d.mZ("No providers in chain");for(let d of a)try{return await d(b)}catch(a){if(c=a,a?.tryNextLink)continue;throw a}throw c};function g(a){return Promise.all(Object.keys(a).reduce((b,c)=>{let d=a[c];return"string"==typeof d?b.push([c,d]):b.push(d().then(a=>[c,a])),b},[])).then(a=>a.reduce((a,[b,c])=>(a[b]=c,a),{}))}function h(a){return async b=>{a.logger?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");let{GetCredentialsForIdentityCommand:e,CognitoIdentityClient:f}=await Promise.all([c.e(8842),c.e(5838)]).then(c.bind(c,95838)),h=c=>a.clientConfig?.[c]??a.parentClientConfig?.[c]??b?.callerClientConfig?.[c],{Credentials:{AccessKeyId:i=function(a){throw new d.C1("Response from Amazon Cognito contained no access key ID",{logger:a})}(a.logger),Expiration:j,SecretKey:k=function(a){throw new d.C1("Response from Amazon Cognito contained no secret key",{logger:a})}(a.logger),SessionToken:l}=function(a){throw new d.C1("Response from Amazon Cognito contained no credentials",{logger:a})}(a.logger)}=await (a.client??new f(Object.assign({},a.clientConfig??{},{region:h("region"),profile:h("profile")}))).send(new e({CustomRoleArn:a.customRoleArn,IdentityId:a.identityId,Logins:a.logins?await g(a.logins):void 0}));return{identityId:a.identityId,accessKeyId:i,secretAccessKey:k,sessionToken:l,expiration:j}}}let i=a=>h({...a}),j="IdentityIds";class k{dbName;constructor(a="aws:cognito-identity-ids"){this.dbName=a}getItem(a){return this.withObjectStore("readonly",b=>{let c=b.get(a);return new Promise(a=>{c.onerror=()=>a(null),c.onsuccess=()=>a(c.result?c.result.value:null)})}).catch(()=>null)}removeItem(a){return this.withObjectStore("readwrite",b=>{let c=b.delete(a);return new Promise((a,b)=>{c.onerror=()=>b(c.error),c.onsuccess=()=>a()})})}setItem(a,b){return this.withObjectStore("readwrite",c=>{let d=c.put({id:a,value:b});return new Promise((a,b)=>{d.onerror=()=>b(d.error),d.onsuccess=()=>a()})})}getDb(){let a=self.indexedDB.open(this.dbName,1);return new Promise((b,c)=>{a.onsuccess=()=>{b(a.result)},a.onerror=()=>{c(a.error)},a.onblocked=()=>{c(Error("Unable to access DB"))},a.onupgradeneeded=()=>{let b=a.result;b.onerror=()=>{c(Error("Failed to create object store"))},b.createObjectStore(j,{keyPath:"id"})}})}withObjectStore(a,b){return this.getDb().then(c=>{let d=c.transaction(j,a);return d.oncomplete=()=>c.close(),new Promise((a,c)=>{d.onerror=()=>c(d.error),a(b(d.objectStore(j)))}).catch(a=>{throw c.close(),a})})}}class l{store;constructor(a={}){this.store=a}getItem(a){return a in this.store?this.store[a]:null}removeItem(a){delete this.store[a]}setItem(a,b){this.store[a]=b}}let m=new l,n=a=>(function({accountId:a,cache:b="object"==typeof self&&self.indexedDB?new k:"object"==typeof window&&window.localStorage?window.localStorage:m,client:e,clientConfig:f,customRoleArn:i,identityPoolId:j,logins:l,userIdentifier:n=!l||0===Object.keys(l).length?"ANONYMOUS":void 0,logger:o,parentClientConfig:p}){o?.debug("@aws-sdk/credential-provider-cognito-identity - fromCognitoIdentity");let q=n?`aws:cognito-identity-credentials:${j}:${n}`:void 0,r=async k=>{let{GetIdCommand:m,CognitoIdentityClient:n}=await Promise.all([c.e(8842),c.e(5838)]).then(c.bind(c,95838)),s=a=>f?.[a]??p?.[a]??k?.callerClientConfig?.[a],t=e??new n(Object.assign({},f??{},{region:s("region"),profile:s("profile")})),u=q&&await b.getItem(q);if(!u){let{IdentityId:c=function(a){throw new d.C1("Response from Amazon Cognito contained no identity ID",{logger:a})}(o)}=await t.send(new m({AccountId:a,IdentityPoolId:j,Logins:l?await g(l):void 0}));u=c,q&&Promise.resolve(b.setItem(q,u)).catch(()=>{})}return(r=h({client:t,customRoleArn:i,logins:l,identityId:u}))(k)};return a=>r(a).catch(async a=>{throw q&&Promise.resolve(b.removeItem(q)).catch(()=>{}),a})})({...a});var o=c(73948);let p=a=>(a?.logger?.debug("@smithy/credential-provider-imds","fromContainerMetadata"),(0,o.fromContainerMetadata)(a));var q=c(98884),r=c(93881);let s=a=>(0,r.fromEnv)(a);var t=c(68783);let u=(a={})=>(0,t.fromIni)({...a});var v=c(63168);let w=a=>(a?.logger?.debug("@smithy/credential-provider-imds","fromInstanceMetadata"),async()=>(0,o.fromInstanceMetadata)(a)().then(a=>(0,v.g)(a,"CREDENTIALS_IMDS","0")));var x=c(6044);let y=(a={})=>(0,x.v6)({...a});var z=c(30731);let A=a=>(0,z.fromProcess)(a);var B=c(99524);let C=(a={})=>(0,B.fromSSO)({...a});var D=c(2534),E=c(41576),F=c(96645);let G=a=>a?.metadata?.handlerProtocol==="h2"?void 0:a,H=a=>{for(let b of a)if(void 0!==b)return b},I=a=>((a,b,e)=>{let f;return async(g={})=>{let{callerClientConfig:h}=g,i=a.clientConfig?.profile??h?.profile,j=a.logger??h?.logger;j?.debug("@aws-sdk/credential-providers - fromTemporaryCredentials (STS)");let k={...a.params,RoleSessionName:a.params.RoleSessionName??"aws-sdk-js-"+Date.now()};if(k?.SerialNumber){if(!a.mfaCodeProvider)throw new d.C1("Temporary credential requires multi-factor authentication, but no MFA code callback was provided.",{tryNextLink:!1,logger:j});k.TokenCode=await a.mfaCodeProvider(k?.SerialNumber)}let{AssumeRoleCommand:l,STSClient:m}=await Promise.all([c.e(8842),c.e(4619),c.e(2025)]).then(c.bind(c,92025));if(!f){let c="function"==typeof b?b():void 0,d=[a.masterCredentials,a.clientConfig?.credentials,void h?.credentials,h?.credentialDefaultProvider?.(),c],g="STS client default credentials";if(d[0])g="options.masterCredentials";else if(d[1])g="options.clientConfig.credentials";else if(d[2])throw g="caller client's credentials",Error("fromTemporaryCredentials recursion in callerClientConfig.credentials");else d[3]?g="caller client's credentialDefaultProvider":d[4]&&(g="AWS SDK default credentials");let k=[a.clientConfig?.region,h?.region,await e?.({profile:i}),"us-east-1"],l="default partition's default region";k[0]?l="options.clientConfig.region":k[1]?l="caller client's region":k[2]&&(l="file or env region");let n=[G(a.clientConfig?.requestHandler),G(h?.requestHandler)],o="STS default requestHandler";n[0]?o="options.clientConfig.requestHandler":n[1]&&(o="caller client's requestHandler"),j?.debug?.(`@aws-sdk/credential-providers - fromTemporaryCredentials STS client init with ${l}=${await (0,F.t)(H(k))()}, ${g}, ${o}.`),f=new m({...a.clientConfig,credentials:H(d),logger:j,profile:i,region:H(k),requestHandler:H(n)})}if(a.clientPlugins)for(let b of a.clientPlugins)f.middlewareStack.use(b);let{Credentials:n}=await f.send(new l(k));if(!n||!n.AccessKeyId||!n.SecretAccessKey)throw new d.C1(`Invalid response from STS.assumeRole call with role ${k.RoleArn}`,{logger:j});return{accessKeyId:n.AccessKeyId,secretAccessKey:n.SecretAccessKey,sessionToken:n.SessionToken,expiration:n.Expiration,credentialScope:n.CredentialScope}}})(a,y,async({profile:a=process.env.AWS_PROFILE})=>(0,E.Z)({environmentVariableSelector:a=>a.AWS_REGION,configFileSelector:a=>a.region,default:()=>void 0},{...D.zH,profile:a})());var J=c(7091);let K=(a={})=>(0,J.fromTokenFile)({...a}),L=a=>(0,J.fromWebToken)({...a})},62908:(a,b,c)=>{c.d(b,{Mu:()=>f,c9:()=>r});var d=c(97968),e=c(9605);class f extends Uint8Array{static fromString(a,b="utf-8"){if("string"==typeof a)return"base64"===b?f.mutate((0,d.E)(a)):f.mutate((0,e.ar)(a));throw Error(`Unsupported conversion from ${typeof a} to Uint8ArrayBlobAdapter.`)}static mutate(a){return Object.setPrototypeOf(a,f.prototype),a}transformToString(a="utf-8"){return function(a,b="utf-8"){return"base64"===b?(0,d.n)(a):(0,e.Pq)(a)}(this,a)}}var g=c(27910);g.Duplex,"function"==typeof ReadableStream&&ReadableStream,c(57075),g.Writable;var h=c(43229),i=c(34760);c(98853);let j=async a=>"function"==typeof Blob&&a instanceof Blob||a.constructor?.name==="Blob"?void 0!==Blob.prototype.arrayBuffer?new Uint8Array(await a.arrayBuffer()):k(a):l(a);async function k(a){var b;let c=await (b=a,new Promise((a,c)=>{let d=new FileReader;d.onloadend=()=>{if(2!==d.readyState)return c(Error("Reader aborted too early"));let b=d.result??"",e=b.indexOf(","),f=e>-1?e+1:b.length;a(b.substring(f))},d.onabort=()=>c(Error("Read aborted")),d.onerror=()=>c(d.error),d.readAsDataURL(b)}));return new Uint8Array((0,d.E)(c))}async function l(a){let b=[],c=a.getReader(),d=!1,e=0;for(;!d;){let{done:a,value:f}=await c.read();f&&(b.push(f),e+=f.length),d=a}let f=new Uint8Array(e),g=0;for(let a of b)f.set(a,g),g+=a.length;return f}var m=c(6742);let n=a=>"function"==typeof ReadableStream&&(a?.constructor?.name===ReadableStream.name||a instanceof ReadableStream),o="The stream has already been transformed.",p=a=>"function"==typeof Blob&&a instanceof Blob,q="The stream has already been transformed.",r=a=>{if(!(a instanceof g.Readable))try{return(a=>{if(!p(a)&&!n(a)){let b=a?.__proto__?.constructor?.name||a;throw Error(`Unexpected stream implementation, expect Blob or ReadableStream, got ${b}`)}let b=!1,c=async()=>{if(b)throw Error(o);return b=!0,await j(a)};return Object.assign(a,{transformToByteArray:c,transformToString:async a=>{let b=await c();if("base64"===a)return(0,d.n)(b);if("hex"===a)return(0,m.n)(b);if(void 0===a||"utf8"===a||"utf-8"===a)return(0,e.Pq)(b);if("function"==typeof TextDecoder)return new TextDecoder(a).decode(b);throw Error("TextDecoder is not available, please make sure polyfill is provided.")},transformToWebStream:()=>{if(b)throw Error(o);if(b=!0,p(a))return(a=>{if("function"!=typeof a.stream)throw Error("Cannot transform payload Blob to web stream. Please make sure the Blob.stream() is polyfilled.\nIf you are using React Native, this API is not yet supported, see: https://react-native.canny.io/feature-requests/p/fetch-streaming-body");return a.stream()})(a);if(n(a))return a;throw Error(`Cannot transform payload to web stream, got ${a}`)}})})(a)}catch(c){let b=a?.__proto__?.constructor?.name||a;throw Error(`Unexpected stream implementation, expect Stream.Readable instance, got ${b}`)}let b=!1,c=async()=>{if(b)throw Error(q);return b=!0,await (0,h.kv)(a)};return Object.assign(a,{transformToByteArray:c,transformToString:async a=>{let b=await c();return void 0===a||Buffer.isEncoding(a)?(0,i.Q)(b.buffer,b.byteOffset,b.byteLength).toString(a):new TextDecoder(a).decode(b)},transformToWebStream:()=>{if(b)throw Error(q);if(null!==a.readableFlowing)throw Error("The stream has been consumed by other callbacks.");if("function"!=typeof g.Readable.toWeb)throw Error("Readable.toWeb() is not supported. Please ensure a polyfill is available.");return b=!0,g.Readable.toWeb(a)}})}},63168:(a,b,c)=>{c.d(b,{g:()=>d});function d(a,b,c){return a.$source||(a.$source={}),a.$source[b]=c,a}},63715:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.createSaslAuthenticationResponse=void 0;let d=c(82442);b.createSaslAuthenticationResponse={decode:a=>{let b=a.readInt32BE(0);return a.slice(d.INT32_SIZE,d.INT32_SIZE+b)},parse:a=>JSON.parse(a.toString())}},68783:(a,b,c)=>{c.d(b,{fromIni:()=>p});var d=c(83520),e=c(30716),f=c(63168);let g=a=>(0,f.g)(a,"CREDENTIALS_PROFILE_NAMED_PROVIDER","p"),h=async(a,b,h,j={})=>{h.logger?.debug("@aws-sdk/credential-provider-ini - resolveAssumeRoleCredentials (STS)");let k=b[a],{source_profile:l,region:m}=k;if(!h.roleAssumer){let{getDefaultRoleAssumer:a}=await Promise.all([c.e(8842),c.e(4619)]).then(c.bind(c,34619));h.roleAssumer=a({...h.clientConfig,credentialProviderLogger:h.logger,parentClientConfig:{...h?.parentClientConfig,region:m??h?.parentClientConfig?.region}},h.clientPlugins)}if(l&&l in j)throw new e.C1(`Detected a cycle attempting to resolve credentials for profile ${(0,d.Bz)(h)}. Profiles visited: `+Object.keys(j).join(", "),{logger:h.logger});h.logger?.debug(`@aws-sdk/credential-provider-ini - finding credential resolver using ${l?`source_profile=[${l}]`:`profile=[${a}]`}`);let n=l?o(l,b,h,{...j,[l]:!0},i(b[l]??{})):(await ((a,b,d)=>{let f={EcsContainer:async a=>{let{fromHttp:b}=await Promise.resolve().then(c.bind(c,98884)),{fromContainerMetadata:f}=await Promise.resolve().then(c.bind(c,73948));return d?.debug("@aws-sdk/credential-provider-ini - credential_source is EcsContainer"),async()=>(0,e.cy)(b(a??{}),f(a))().then(g)},Ec2InstanceMetadata:async a=>{d?.debug("@aws-sdk/credential-provider-ini - credential_source is Ec2InstanceMetadata");let{fromInstanceMetadata:b}=await Promise.resolve().then(c.bind(c,73948));return async()=>b(a)().then(g)},Environment:async a=>{d?.debug("@aws-sdk/credential-provider-ini - credential_source is Environment");let{fromEnv:b}=await Promise.resolve().then(c.bind(c,93881));return async()=>b(a)().then(g)}};if(a in f)return f[a];throw new e.C1(`Unsupported credential source in profile ${b}. Got ${a}, expected EcsContainer or Ec2InstanceMetadata or Environment.`,{logger:d})})(k.credential_source,a,h.logger)(h))();if(i(k))return n.then(a=>(0,f.g)(a,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"));{let b={RoleArn:k.role_arn,RoleSessionName:k.role_session_name||`aws-sdk-js-${Date.now()}`,ExternalId:k.external_id,DurationSeconds:parseInt(k.duration_seconds||"3600",10)},{mfa_serial:c}=k;if(c){if(!h.mfaCodeProvider)throw new e.C1(`Profile ${a} requires multi-factor authentication, but no MFA code callback was provided.`,{logger:h.logger,tryNextLink:!1});b.SerialNumber=c,b.TokenCode=await h.mfaCodeProvider(c)}let d=await n;return h.roleAssumer(d,b).then(a=>(0,f.g)(a,"CREDENTIALS_PROFILE_SOURCE_PROFILE","o"))}},i=a=>!a.role_arn&&!!a.credential_source,j=async(a,b)=>Promise.resolve().then(c.bind(c,30731)).then(({fromProcess:c})=>c({...a,profile:b})().then(a=>(0,f.g)(a,"CREDENTIALS_PROFILE_PROCESS","v"))),k=async(a,b,d={})=>{let{fromSSO:e}=await Promise.resolve().then(c.bind(c,99524));return e({profile:a,logger:d.logger,parentClientConfig:d.parentClientConfig,clientConfig:d.clientConfig})().then(a=>b.sso_session?(0,f.g)(a,"CREDENTIALS_PROFILE_SSO","r"):(0,f.g)(a,"CREDENTIALS_PROFILE_SSO_LEGACY","t"))},l=a=>!!a&&"object"==typeof a&&"string"==typeof a.aws_access_key_id&&"string"==typeof a.aws_secret_access_key&&["undefined","string"].indexOf(typeof a.aws_session_token)>-1&&["undefined","string"].indexOf(typeof a.aws_account_id)>-1,m=async(a,b)=>{b?.logger?.debug("@aws-sdk/credential-provider-ini - resolveStaticCredentials");let c={accessKeyId:a.aws_access_key_id,secretAccessKey:a.aws_secret_access_key,sessionToken:a.aws_session_token,...a.aws_credential_scope&&{credentialScope:a.aws_credential_scope},...a.aws_account_id&&{accountId:a.aws_account_id}};return(0,f.g)(c,"CREDENTIALS_PROFILE","n")},n=async(a,b)=>Promise.resolve().then(c.bind(c,7091)).then(({fromTokenFile:c})=>c({webIdentityTokenFile:a.web_identity_token_file,roleArn:a.role_arn,roleSessionName:a.role_session_name,roleAssumerWithWebIdentity:b.roleAssumerWithWebIdentity,logger:b.logger,parentClientConfig:b.parentClientConfig})().then(a=>(0,f.g)(a,"CREDENTIALS_PROFILE_STS_WEB_ID_TOKEN","q"))),o=async(a,b,c,d={},f=!1)=>{let g=b[a];if(Object.keys(d).length>0&&l(g))return m(g,c);if(f||((a,{profile:b="default",logger:c}={})=>!!a&&"object"==typeof a&&"string"==typeof a.role_arn&&["undefined","string"].indexOf(typeof a.role_session_name)>-1&&["undefined","string"].indexOf(typeof a.external_id)>-1&&["undefined","string"].indexOf(typeof a.mfa_serial)>-1&&(((a,{profile:b,logger:c})=>{let d="string"==typeof a.source_profile&&void 0===a.credential_source;return d&&c?.debug?.(`    ${b} isAssumeRoleWithSourceProfile source_profile=${a.source_profile}`),d})(a,{profile:b,logger:c})||((a,{profile:b,logger:c})=>{let d="string"==typeof a.credential_source&&void 0===a.source_profile;return d&&c?.debug?.(`    ${b} isCredentialSourceProfile credential_source=${a.credential_source}`),d})(a,{profile:b,logger:c})))(g,{profile:a,logger:c.logger}))return h(a,b,c,d);if(l(g))return m(g,c);if((a=>!!a&&"object"==typeof a&&"string"==typeof a.web_identity_token_file&&"string"==typeof a.role_arn&&["undefined","string"].indexOf(typeof a.role_session_name)>-1)(g))return n(g,c);if((a=>!!a&&"object"==typeof a&&"string"==typeof a.credential_process)(g))return j(c,a);if((a=>a&&("string"==typeof a.sso_start_url||"string"==typeof a.sso_account_id||"string"==typeof a.sso_session||"string"==typeof a.sso_region||"string"==typeof a.sso_role_name))(g))return await k(a,g,c);throw new e.C1(`Could not resolve credentials using profile: [${a}] in configuration/credentials file(s).`,{logger:c.logger})},p=(a={})=>async({callerClientConfig:b}={})=>{let c={...a,parentClientConfig:{...b,...a.parentClientConfig}};c.logger?.debug("@aws-sdk/credential-provider-ini - fromIni");let e=await (0,d.YU)(c);return o((0,d.Bz)({profile:a.profile??b?.profile}),e,c)}},69322:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.uint32ArrayFrom=b.numToUint8=b.isEmptyData=b.convertToBuffer=void 0;var d=c(82122);Object.defineProperty(b,"convertToBuffer",{enumerable:!0,get:function(){return d.convertToBuffer}});var e=c(15651);Object.defineProperty(b,"isEmptyData",{enumerable:!0,get:function(){return e.isEmptyData}});var f=c(45359);Object.defineProperty(b,"numToUint8",{enumerable:!0,get:function(){return f.numToUint8}});var g=c(3060);Object.defineProperty(b,"uint32ArrayFrom",{enumerable:!0,get:function(){return g.uint32ArrayFrom}})},73948:(a,b,c)=>{c.d(b,{ENV_CMDS_FULL_URI:()=>q,ENV_CMDS_RELATIVE_URI:()=>r,fromContainerMetadata:()=>t,fromInstanceMetadata:()=>L,getInstanceMetadataEndpoint:()=>D,httpRequest:()=>j});var d,e,f=c(30716),g=c(79551),h=c(79428),i=c(81630);function j(a){return new Promise((b,c)=>{let d=(0,i.request)({method:"GET",...a,hostname:a.hostname?.replace(/^\[(.+)\]$/,"$1")});d.on("error",a=>{c(Object.assign(new f.mZ("Unable to connect to instance metadata service"),a)),d.destroy()}),d.on("timeout",()=>{c(new f.mZ("TimeoutError from instance metadata service")),d.destroy()}),d.on("response",a=>{let{statusCode:e=400}=a;(e<200||300<=e)&&(c(Object.assign(new f.mZ("Error response received from instance metadata service"),{statusCode:e})),d.destroy());let g=[];a.on("data",a=>{g.push(a)}),a.on("end",()=>{b(h.Buffer.concat(g)),d.destroy()})}),d.end()})}let k=a=>!!a&&"object"==typeof a&&"string"==typeof a.AccessKeyId&&"string"==typeof a.SecretAccessKey&&"string"==typeof a.Token&&"string"==typeof a.Expiration,l=a=>({accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.Token,expiration:new Date(a.Expiration),...a.AccountId&&{accountId:a.AccountId}}),m=1e3,n=0,o=({maxRetries:a=n,timeout:b=m})=>({maxRetries:a,timeout:b}),p=(a,b)=>{let c=a();for(let d=0;d<b;d++)c=c.catch(a);return c},q="AWS_CONTAINER_CREDENTIALS_FULL_URI",r="AWS_CONTAINER_CREDENTIALS_RELATIVE_URI",s="AWS_CONTAINER_AUTHORIZATION_TOKEN",t=(a={})=>{let{timeout:b,maxRetries:c}=o(a);return()=>p(async()=>{let c=await x({logger:a.logger}),d=JSON.parse(await u(b,c));if(!k(d))throw new f.C1("Invalid response received from instance metadata service.",{logger:a.logger});return l(d)},c)},u=async(a,b)=>(process.env[s]&&(b.headers={...b.headers,Authorization:process.env[s]}),(await j({...b,timeout:a})).toString()),v={localhost:!0,"127.0.0.1":!0},w={"http:":!0,"https:":!0},x=async({logger:a})=>{if(process.env[r])return{hostname:"169.254.170.2",path:process.env[r]};if(process.env[q]){let b=(0,g.parse)(process.env[q]);if(!b.hostname||!(b.hostname in v))throw new f.C1(`${b.hostname} is not a valid container metadata service hostname`,{tryNextLink:!1,logger:a});if(!b.protocol||!(b.protocol in w))throw new f.C1(`${b.protocol} is not a valid container metadata service protocol`,{tryNextLink:!1,logger:a});return{...b,port:b.port?parseInt(b.port,10):void 0}}throw new f.C1(`The container metadata credential provider cannot be used unless the ${r} or ${q} environment variable is set`,{tryNextLink:!1,logger:a})};var y=c(41576);class z extends f.C1{constructor(a,b=!0){super(a,b),this.tryNextLink=b,this.name="InstanceMetadataV1FallbackError",Object.setPrototypeOf(this,z.prototype)}}var A=c(10284);!function(a){a.IPv4="http://169.254.169.254",a.IPv6="http://[fd00:ec2::254]"}(d||(d={}));let B={environmentVariableSelector:a=>a.AWS_EC2_METADATA_SERVICE_ENDPOINT,configFileSelector:a=>a.ec2_metadata_service_endpoint,default:void 0};!function(a){a.IPv4="IPv4",a.IPv6="IPv6"}(e||(e={}));let C={environmentVariableSelector:a=>a.AWS_EC2_METADATA_SERVICE_ENDPOINT_MODE,configFileSelector:a=>a.ec2_metadata_service_endpoint_mode,default:e.IPv4},D=async()=>(0,A.D)(await E()||await F()),E=async()=>(0,y.Z)(B)(),F=async()=>{let a=await (0,y.Z)(C)();switch(a){case e.IPv4:return d.IPv4;case e.IPv6:return d.IPv6;default:throw Error(`Unsupported endpoint mode: ${a}. Select from ${Object.values(e)}`)}},G=(a,b)=>{let c=300+Math.floor(300*Math.random()),d=new Date(Date.now()+1e3*c);b.warn(`Attempting credential expiration extension due to a credential service availability issue. A refresh of these credentials will be attempted after ${new Date(d)}.
For more information, please visit: https://docs.aws.amazon.com/sdkref/latest/guide/feature-static-credentials.html`);let e=a.originalExpiration??a.expiration;return{...a,...e?{originalExpiration:e}:{},expiration:d}},H="/latest/meta-data/iam/security-credentials/",I="AWS_EC2_METADATA_V1_DISABLED",J="ec2_metadata_v1_disabled",K="x-aws-ec2-metadata-token",L=(a={})=>((a,b={})=>{let c,d=b?.logger||console;return async()=>{let b;try{(b=await a()).expiration&&b.expiration.getTime()<Date.now()&&(b=G(b,d))}catch(a){if(c)d.warn("Credential renew failed: ",a),b=G(c,d);else throw a}return c=b,b}})(M(a),{logger:a.logger}),M=(a={})=>{let b=!1,{logger:c,profile:d}=a,{timeout:e,maxRetries:g}=o(a),h=async(c,e)=>{if(b||e.headers?.[K]==null){let b=!1,c=!1,e=await (0,y.Z)({environmentVariableSelector:b=>{let d=b[I];if(c=!!d&&"false"!==d,void 0===d)throw new f.C1(`${I} not set in env, checking config file next.`,{logger:a.logger});return c},configFileSelector:a=>{let c=a[J];return b=!!c&&"false"!==c},default:!1},{profile:d})();if(a.ec2MetadataV1Disabled||e){let d=[];throw a.ec2MetadataV1Disabled&&d.push("credential provider initialization (runtime option ec2MetadataV1Disabled)"),b&&d.push(`config file profile (${J})`),c&&d.push(`process environment variable (${I})`),new z(`AWS EC2 Metadata v1 fallback has been blocked by AWS SDK configuration in the following: [${d.join(", ")}].`)}}let g=(await p(async()=>{let a;try{a=await O(e)}catch(a){throw 401===a.statusCode&&(b=!1),a}return a},c)).trim();return p(async()=>{let c;try{c=await P(g,e,a)}catch(a){throw 401===a.statusCode&&(b=!1),a}return c},c)};return async()=>{let a=await D();if(b)return c?.debug("AWS SDK Instance Metadata","using v1 fallback (no token fetch)"),h(g,{...a,timeout:e});{let d;try{d=(await N({...a,timeout:e})).toString()}catch(d){if(d?.statusCode===400)throw Object.assign(d,{message:"EC2 Metadata token request returned error"});return("TimeoutError"===d.message||[403,404,405].includes(d.statusCode))&&(b=!0),c?.debug("AWS SDK Instance Metadata","using v1 fallback (initial)"),h(g,{...a,timeout:e})}return h(g,{...a,headers:{[K]:d},timeout:e})}}},N=async a=>j({...a,path:"/latest/api/token",method:"PUT",headers:{"x-aws-ec2-metadata-token-ttl-seconds":"21600"}}),O=async a=>(await j({...a,path:H})).toString(),P=async(a,b,c)=>{let d=JSON.parse((await j({...b,path:H+a})).toString());if(!k(d))throw new f.C1("Invalid response received from instance metadata service.",{logger:c.logger});return l(d)}},75140:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.RawSha256=void 0;var d=c(12004);b.RawSha256=function(){function a(){this.state=Int32Array.from(d.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return a.prototype.update=function(a){if(this.finished)throw Error("Attempted to update an already finished hash.");var b=0,c=a.byteLength;if(this.bytesHashed+=c,8*this.bytesHashed>d.MAX_HASHABLE_LENGTH)throw Error("Cannot hash more than 2^53 - 1 bits");for(;c>0;)this.buffer[this.bufferLength++]=a[b++],c--,this.bufferLength===d.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},a.prototype.digest=function(){if(!this.finished){var a=8*this.bytesHashed,b=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),c=this.bufferLength;if(b.setUint8(this.bufferLength++,128),c%d.BLOCK_SIZE>=d.BLOCK_SIZE-8){for(var e=this.bufferLength;e<d.BLOCK_SIZE;e++)b.setUint8(e,0);this.hashBuffer(),this.bufferLength=0}for(var e=this.bufferLength;e<d.BLOCK_SIZE-8;e++)b.setUint8(e,0);b.setUint32(d.BLOCK_SIZE-8,Math.floor(a/0x100000000),!0),b.setUint32(d.BLOCK_SIZE-4,a),this.hashBuffer(),this.finished=!0}for(var f=new Uint8Array(d.DIGEST_LENGTH),e=0;e<8;e++)f[4*e]=this.state[e]>>>24&255,f[4*e+1]=this.state[e]>>>16&255,f[4*e+2]=this.state[e]>>>8&255,f[4*e+3]=this.state[e]>>>0&255;return f},a.prototype.hashBuffer=function(){for(var a=this.buffer,b=this.state,c=b[0],e=b[1],f=b[2],g=b[3],h=b[4],i=b[5],j=b[6],k=b[7],l=0;l<d.BLOCK_SIZE;l++){if(l<16)this.temp[l]=(255&a[4*l])<<24|(255&a[4*l+1])<<16|(255&a[4*l+2])<<8|255&a[4*l+3];else{var m=this.temp[l-2],n=(m>>>17|m<<15)^(m>>>19|m<<13)^m>>>10,o=((m=this.temp[l-15])>>>7|m<<25)^(m>>>18|m<<14)^m>>>3;this.temp[l]=(n+this.temp[l-7]|0)+(o+this.temp[l-16]|0)}var p=(((h>>>6|h<<26)^(h>>>11|h<<21)^(h>>>25|h<<7))+(h&i^~h&j)|0)+(k+(d.KEY[l]+this.temp[l]|0)|0)|0,q=((c>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10))+(c&e^c&f^e&f)|0;k=j,j=i,i=h,h=g+p|0,g=f,f=e,e=c,c=p+q|0}b[0]+=c,b[1]+=e,b[2]+=f,b[3]+=g,b[4]+=h,b[5]+=i,b[6]+=j,b[7]+=k},a}()},81604:(a,b,c)=>{c.d(b,{m:()=>d});let d=a=>"function"==typeof ArrayBuffer&&a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a)},82122:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.convertToBuffer=void 0;var d=c(622),e="undefined"!=typeof Buffer&&Buffer.from?function(a){return Buffer.from(a,"utf8")}:d.fromUtf8;b.convertToBuffer=function(a){return a instanceof Uint8Array?a:"string"==typeof a?e(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a)}},82442:function(a,b,c){var d=this&&this.__createBinding||(Object.create?function(a,b,c,d){void 0===d&&(d=c);var e=Object.getOwnPropertyDescriptor(b,c);(!e||("get"in e?!b.__esModule:e.writable||e.configurable))&&(e={enumerable:!0,get:function(){return b[c]}}),Object.defineProperty(a,d,e)}:function(a,b,c,d){void 0===d&&(d=c),a[d]=b[c]}),e=this&&this.__exportStar||function(a,b){for(var c in a)"default"===c||Object.prototype.hasOwnProperty.call(b,c)||d(b,a,c)};Object.defineProperty(b,"__esModule",{value:!0}),b.awsIamAuthenticator=b.Type=void 0,e(c(83475),b),e(c(85126),b),e(c(49456),b),e(c(18983),b),e(c(55303),b),e(c(63715),b);let f=c(85126);b.Type=c(83475).TYPE,b.awsIamAuthenticator=f.createAuthenticator},83475:(a,b)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.ACTION=b.ALGORITHM=b.HASHED_PAYLOAD=b.SIGNED_HEADERS=b.SERVICE=b.TYPE=b.INT32_SIZE=void 0,b.INT32_SIZE=4,b.TYPE="AWS_MSK_IAM",b.SERVICE="kafka-cluster",b.SIGNED_HEADERS="host",b.HASHED_PAYLOAD="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",b.ALGORITHM="AWS4-HMAC-SHA256",b.ACTION="kafka-cluster:Connect"},83520:(a,b,c)=>{c.d(b,{QD:()=>y,Ch:()=>h,Bz:()=>i,C9:()=>k,vf:()=>n,p6:()=>z,qw:()=>C,YU:()=>D});var d=c(21820),e=c(33873);let f={},g=()=>{let{HOME:a,USERPROFILE:b,HOMEPATH:c,HOMEDRIVE:g=`C:${e.sep}`}=process.env;if(a)return a;if(b)return b;if(c)return`${g}${c}`;let h=process&&process.geteuid?`${process.geteuid()}`:"DEFAULT";return f[h]||(f[h]=(0,d.homedir)()),f[h]},h="AWS_PROFILE",i=a=>a.profile||process.env[h]||"default";var j=c(55511);let k=a=>{let b=(0,j.createHash)("sha1").update(a).digest("hex");return(0,e.join)(g(),".aws","sso","cache",`${b}.json`)};var l=c(29021);let{readFile:m}=l.promises,n=async a=>{let b=k(a);return JSON.parse(await m(b,"utf8"))};var o=c(95853);let p=a=>Object.entries(a).filter(([a])=>{let b=a.indexOf(y);return -1!==b&&Object.values(o.Ip).includes(a.substring(0,b))}).reduce((a,[b,c])=>{let d=b.indexOf(y);return a[b.substring(0,d)===o.Ip.PROFILE?b.substring(d+1):b]=c,a},{...a.default&&{default:a.default}}),q=()=>process.env.AWS_CONFIG_FILE||(0,e.join)(g(),".aws","config"),r=/^([\w-]+)\s(["'])?([\w-@\+\.%:/]+)\2$/,s=["__proto__","profile __proto__"],t=a=>{let b,c,d={};for(let e of a.split(/\r?\n/)){let a=e.split(/(^|\s)[;#]/)[0].trim();if("["===a[0]&&"]"===a[a.length-1]){b=void 0,c=void 0;let d=a.substring(1,a.length-1),e=r.exec(d);if(e){let[,a,,c]=e;Object.values(o.Ip).includes(a)&&(b=[a,c].join(y))}else b=d;if(s.includes(d))throw Error(`Found invalid profile name "${d}"`)}else if(b){let f=a.indexOf("=");if(![0,-1].includes(f)){let[g,h]=[a.substring(0,f).trim(),a.substring(f+1).trim()];if(""===h)c=g;else{c&&e.trimStart()===e&&(c=void 0),d[b]=d[b]||{};let a=c?[c,g].join(y):g;d[b][a]=h}}}}return d},{readFile:u}=l.promises,v={},w=(a,b)=>((!v[a]||b?.ignoreCache)&&(v[a]=u(a,"utf8")),v[a]),x=()=>({}),y=".",z=async(a={})=>{let{filepath:b=process.env.AWS_SHARED_CREDENTIALS_FILE||(0,e.join)(g(),".aws","credentials"),configFilepath:c=q()}=a,d=g(),f=b;b.startsWith("~/")&&(f=(0,e.join)(d,b.slice(2)));let h=c;c.startsWith("~/")&&(h=(0,e.join)(d,c.slice(2)));let i=await Promise.all([w(h,{ignoreCache:a.ignoreCache}).then(t).then(p).catch(x),w(f,{ignoreCache:a.ignoreCache}).then(t).catch(x)]);return{configFile:i[0],credentialsFile:i[1]}},A=a=>Object.entries(a).filter(([a])=>a.startsWith(o.Ip.SSO_SESSION+y)).reduce((a,[b,c])=>({...a,[b.substring(b.indexOf(y)+1)]:c}),{}),B=()=>({}),C=async(a={})=>w(a.configFilepath??q()).then(t).then(A).catch(B),D=async a=>{let b=await z(a);return((...a)=>{let b={};for(let c of a)for(let[a,d]of Object.entries(c))void 0!==b[a]?Object.assign(b[a],d):b[a]=d;return b})(b.configFile,b.credentialsFile)}},84842:(a,b,c)=>{c.d(b,{$:()=>d});function d(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}},85126:function(a,b,c){var d=this&&this.__awaiter||function(a,b,c,d){return new(c||(c=Promise))(function(e,f){function g(a){try{i(d.next(a))}catch(a){f(a)}}function h(a){try{i(d.throw(a))}catch(a){f(a)}}function i(a){var b;a.done?e(a.value):((b=a.value)instanceof c?b:new c(function(a){a(b)})).then(g,h)}i((d=d.apply(a,b||[])).next())})};Object.defineProperty(b,"__esModule",{value:!0}),b.createAuthenticator=void 0;let e=c(82442);b.createAuthenticator=a=>b=>({authenticate:()=>d(void 0,void 0,void 0,function*(){let{host:c,port:d,logger:f,saslAuthenticate:g}=b,h=`${c}:${d}`,i=new e.CreatePayload(a);try{let a=yield i.create({brokerHost:c}),b=yield g({request:(0,e.createSaslAuthenticationRequest)(a),response:e.createSaslAuthenticationResponse});if(f.info("Authentication response",{authenticateResponse:b}),!(b&&"object"==typeof b&&"version"in b&&b.version))throw Error("Invalid response from broker");f.info(`SASL ${e.TYPE} authentication successful`,{broker:h})}catch(a){throw a instanceof Error?f.error(null==a?void 0:a.message,{broker:h}):"string"==typeof a&&f.error(a,{broker:h}),a}})})},93881:(a,b,c)=>{c.d(b,{yG:()=>f,pi:()=>g,fromEnv:()=>h});var d=c(63168),e=c(30716);let f="AWS_ACCESS_KEY_ID",g="AWS_SECRET_ACCESS_KEY",h=a=>async()=>{a?.logger?.debug("@aws-sdk/credential-provider-env - fromEnv");let b=process.env[f],c=process.env[g],h=process.env.AWS_SESSION_TOKEN,i=process.env.AWS_CREDENTIAL_EXPIRATION,j=process.env.AWS_CREDENTIAL_SCOPE,k=process.env.AWS_ACCOUNT_ID;if(b&&c){let a={accessKeyId:b,secretAccessKey:c,...h&&{sessionToken:h},...i&&{expiration:new Date(i)},...j&&{credentialScope:j},...k&&{accountId:k}};return(0,d.g)(a,"CREDENTIALS_ENV_VARS","g"),a}throw new e.C1("Unable to find environment variable credentials.",{logger:a?.logger})}},95853:(a,b,c)=>{var d,e,f,g,h,i,j;c.d(b,{dB:()=>g,Ue:()=>f,Ip:()=>i,Vf:()=>k}),function(a){a.HEADER="header",a.QUERY="query"}(d||(d={})),function(a){a.HEADER="header",a.QUERY="query"}(e||(e={})),function(a){a.HTTP="http",a.HTTPS="https"}(f||(f={})),function(a){a.MD5="md5",a.CRC32="crc32",a.CRC32C="crc32c",a.SHA1="sha1",a.SHA256="sha256"}(g||(g={})),function(a){a[a.HEADER=0]="HEADER",a[a.TRAILER=1]="TRAILER"}(h||(h={}));let k="__smithy_context";!function(a){a.PROFILE="profile",a.SSO_SESSION="sso-session",a.SERVICES="services"}(i||(i={})),function(a){a.HTTP_0_9="http/0.9",a.HTTP_1_0="http/1.0",a.TDS_8_0="tds/8.0"}(j||(j={}))},96645:(a,b,c)=>{c.d(b,{t:()=>d});let d=a=>{if("function"==typeof a)return a;let b=Promise.resolve(a);return()=>b}},96709:(a,b,c)=>{Object.defineProperty(b,"__esModule",{value:!0}),b.Sha256=void 0;var d=c(50153),e=c(12004),f=c(75140),g=c(43071);b.Sha256=function(){function a(a){this.secret=a,this.hash=new f.RawSha256,this.reset()}return a.prototype.update=function(a){if(!(0,g.isEmptyData)(a)&&!this.error)try{this.hash.update((0,g.convertToBuffer)(a))}catch(a){this.error=a}},a.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},a.prototype.digest=function(){return d.__awaiter(this,void 0,void 0,function(){return d.__generator(this,function(a){return[2,this.digestSync()]})})},a.prototype.reset=function(){if(this.hash=new f.RawSha256,this.secret){this.outer=new f.RawSha256;var a=function(a){var b=(0,g.convertToBuffer)(a);if(b.byteLength>e.BLOCK_SIZE){var c=new f.RawSha256;c.update(b),b=c.digest()}var d=new Uint8Array(e.BLOCK_SIZE);return d.set(b),d}(this.secret),b=new Uint8Array(e.BLOCK_SIZE);b.set(a);for(var c=0;c<e.BLOCK_SIZE;c++)a[c]^=54,b[c]^=92;this.hash.update(a),this.outer.update(b);for(var c=0;c<a.byteLength;c++)a[c]=0}},a}()},97968:(a,b,c)=>{c.d(b,{E:()=>f,n:()=>h});var d=c(34760);let e=/^[A-Za-z0-9+/]*={0,2}$/,f=a=>{if(3*a.length%4!=0)throw TypeError("Incorrect padding on base64 string.");if(!e.exec(a))throw TypeError("Invalid base64 string.");let b=(0,d.s)(a,"base64");return new Uint8Array(b.buffer,b.byteOffset,b.byteLength)};var g=c(9605);let h=a=>{let b;if("object"!=typeof(b="string"==typeof a?(0,g.ar)(a):a)||"number"!=typeof b.byteOffset||"number"!=typeof b.byteLength)throw Error("@smithy/util-base64: toBase64 encoder function only accepts string | Uint8Array.");return(0,d.Q)(b.buffer,b.byteOffset,b.byteLength).toString("base64")}},98853:(a,b,c)=>{c.d(b,{Kd:()=>f,cS:()=>g,eS:()=>d,jt:()=>e});let d=a=>({setHttpHandler(b){a.httpHandler=b},httpHandler:()=>a.httpHandler,updateHttpClientConfig(b,c){a.httpHandler?.updateHttpClientConfig(b,c)},httpHandlerConfigs:()=>a.httpHandler.httpHandlerConfigs()}),e=a=>({httpHandler:a.httpHandler()});c(95853);class f{constructor(a){this.method=a.method||"GET",this.hostname=a.hostname||"localhost",this.port=a.port,this.query=a.query||{},this.headers=a.headers||{},this.body=a.body,this.protocol=a.protocol?":"!==a.protocol.slice(-1)?`${a.protocol}:`:a.protocol:"https:",this.path=a.path?"/"!==a.path.charAt(0)?`/${a.path}`:a.path:"/",this.username=a.username,this.password=a.password,this.fragment=a.fragment}static clone(a){var b;let c=new f({...a,headers:{...a.headers}});return c.query&&(c.query=Object.keys(b=c.query).reduce((a,c)=>{let d=b[c];return{...a,[c]:Array.isArray(d)?[...d]:d}},{})),c}static isInstance(a){return!!a&&"method"in a&&"protocol"in a&&"hostname"in a&&"path"in a&&"object"==typeof a.query&&"object"==typeof a.headers}clone(){return f.clone(this)}}class g{constructor(a){this.statusCode=a.statusCode,this.reason=a.reason,this.headers=a.headers||{},this.body=a.body}static isInstance(a){return!!a&&"number"==typeof a.statusCode&&"object"==typeof a.headers}}},98884:(a,b,c)=>{c.d(b,{fromHttp:()=>m});var d=c(63168),e=c(43229),f=c(30716),g=c(79748),h=c.n(g),i=c(98853),j=c(41915),k=c(62908);async function l(a,b){let c=(0,k.c9)(a.body),d=await c.transformToString();if(200===a.statusCode){let a=JSON.parse(d);if("string"!=typeof a.AccessKeyId||"string"!=typeof a.SecretAccessKey||"string"!=typeof a.Token||"string"!=typeof a.Expiration)throw new f.C1("HTTP credential provider response not of the required format, an object matching: { AccessKeyId: string, SecretAccessKey: string, Token: string, Expiration: string(rfc3339) }",{logger:b});return{accessKeyId:a.AccessKeyId,secretAccessKey:a.SecretAccessKey,sessionToken:a.Token,expiration:(0,j.EI)(a.Expiration)}}if(a.statusCode>=400&&a.statusCode<500){let c={};try{c=JSON.parse(d)}catch(a){}throw Object.assign(new f.C1(`Server responded with status: ${a.statusCode}`,{logger:b}),{Code:c.Code,Message:c.Message})}throw new f.C1(`Server responded with status: ${a.statusCode}`,{logger:b})}let m=(a={})=>{let b;a.logger?.debug("@aws-sdk/credential-provider-http - fromHttp");let c=a.awsContainerCredentialsRelativeUri??process.env.AWS_CONTAINER_CREDENTIALS_RELATIVE_URI,g=a.awsContainerCredentialsFullUri??process.env.AWS_CONTAINER_CREDENTIALS_FULL_URI,j=a.awsContainerAuthorizationToken??process.env.AWS_CONTAINER_AUTHORIZATION_TOKEN,k=a.awsContainerAuthorizationTokenFile??process.env.AWS_CONTAINER_AUTHORIZATION_TOKEN_FILE,m=a.logger?.constructor?.name!=="NoOpLogger"&&a.logger?a.logger.warn:console.warn;if(c&&g&&(m("@aws-sdk/credential-provider-http: you have set both awsContainerCredentialsRelativeUri and awsContainerCredentialsFullUri."),m("awsContainerCredentialsFullUri will take precedence.")),j&&k&&(m("@aws-sdk/credential-provider-http: you have set both awsContainerAuthorizationToken and awsContainerAuthorizationTokenFile."),m("awsContainerAuthorizationToken will take precedence.")),g)b=g;else if(c)b=`http://169.254.170.2${c}`;else throw new f.C1(`No HTTP credential provider host provided.
Set AWS_CONTAINER_CREDENTIALS_FULL_URI or AWS_CONTAINER_CREDENTIALS_RELATIVE_URI.`,{logger:a.logger});let n=new URL(b);((a,b)=>{if("https:"!==a.protocol&&"169.254.170.2"!==a.hostname&&"169.254.170.23"!==a.hostname&&"[fd00:ec2::23]"!==a.hostname){if(a.hostname.includes("[")){if("[::1]"===a.hostname||"[0000:0000:0000:0000:0000:0000:0000:0001]"===a.hostname)return}else{if("localhost"===a.hostname)return;let b=a.hostname.split("."),c=a=>{let b=parseInt(a,10);return 0<=b&&b<=255};if("127"===b[0]&&c(b[1])&&c(b[2])&&c(b[3])&&4===b.length)return}throw new f.C1(`URL not accepted. It must either be HTTPS or match one of the following:
  - loopback CIDR 127.0.0.0/8 or [::1/128]
  - ECS container host 169.254.170.2
  - EKS container host 169.254.170.23 or [fd00:ec2::23]`,{logger:b})}})(n,a.logger);let o=new e.$c({requestTimeout:a.timeout??1e3,connectionTimeout:a.timeout??1e3});return((a,b,c)=>async()=>{for(let d=0;d<b;++d)try{return await a()}catch(a){await new Promise(a=>setTimeout(a,c))}return await a()})(async()=>{let b=function(a){return new i.Kd({protocol:a.protocol,hostname:a.hostname,port:Number(a.port),path:a.pathname,query:Array.from(a.searchParams.entries()).reduce((a,[b,c])=>(a[b]=c,a),{}),fragment:a.hash})}(n);j?b.headers.Authorization=j:k&&(b.headers.Authorization=(await h().readFile(k)).toString());try{let a=await o.handle(b);return l(a.response).then(a=>(0,d.g)(a,"CREDENTIALS_HTTP","z"))}catch(b){throw new f.C1(String(b),{logger:a.logger})}},a.maxRetries??3,a.timeout??1e3)}},99524:(a,b,c)=>{c.d(b,{fromSSO:()=>o});var d=c(30716),e=c(83520),f=c(63168);let g="To refresh this SSO session run 'aws sso login' with the corresponding profile.",h=async(a,b={})=>{let{SSOOIDCClient:d}=await Promise.all([c.e(8842),c.e(263)]).then(c.bind(c,80263));return new d(Object.assign({},b.clientConfig??{},{region:a??b.clientConfig?.region,logger:b.clientConfig?.logger??b.parentClientConfig?.logger}))},i=async(a,b,d={})=>{let{CreateTokenCommand:e}=await Promise.all([c.e(8842),c.e(263)]).then(c.bind(c,80263));return(await h(b,d)).send(new e({clientId:a.clientId,clientSecret:a.clientSecret,refreshToken:a.refreshToken,grantType:"refresh_token"}))},j=a=>{if(a.expiration&&a.expiration.getTime()<Date.now())throw new d.Jh(`Token is expired. ${g}`,!1)},k=(a,b,c=!1)=>{if(void 0===b)throw new d.Jh(`Value not present for '${a}' in SSO Token${c?". Cannot refresh":""}. ${g}`,!1)},{writeFile:l}=c(29021).promises,m=new Date(0),n=async({ssoStartUrl:a,ssoSession:b,ssoAccountId:h,ssoRegion:n,ssoRoleName:o,ssoClient:p,clientConfig:q,parentClientConfig:r,profile:s,logger:t})=>{let u,v,w="To refresh this SSO session run aws sso login with the corresponding profile.";if(b)try{let a=await ((a={})=>async({callerClientConfig:b}={})=>{let c,f={...a,parentClientConfig:{...b,...a.parentClientConfig}};f.logger?.debug("@aws-sdk/token-providers - fromSso");let h=await (0,e.YU)(f),n=(0,e.Bz)({profile:f.profile??b?.profile}),o=h[n];if(o){if(!o.sso_session)throw new d.Jh(`Profile '${n}' is missing required property 'sso_session'.`)}else throw new d.Jh(`Profile '${n}' could not be found in shared credentials file.`,!1);let p=o.sso_session,q=(await (0,e.qw)(f))[p];if(!q)throw new d.Jh(`Sso session '${p}' could not be found in shared credentials file.`,!1);for(let a of["sso_start_url","sso_region"])if(!q[a])throw new d.Jh(`Sso session '${p}' is missing required property '${a}'.`,!1);q.sso_start_url;let r=q.sso_region;try{c=await (0,e.vf)(p)}catch(a){throw new d.Jh(`The SSO session token associated with profile=${n} was not found or is invalid. ${g}`,!1)}k("accessToken",c.accessToken),k("expiresAt",c.expiresAt);let{accessToken:s,expiresAt:t}=c,u={token:s,expiration:new Date(t)};if(u.expiration.getTime()-Date.now()>3e5)return u;if(Date.now()-m.getTime()<3e4)return j(u),u;k("clientId",c.clientId,!0),k("clientSecret",c.clientSecret,!0),k("refreshToken",c.refreshToken,!0);try{m.setTime(Date.now());let a=await i(c,r,f);k("accessToken",a.accessToken),k("expiresIn",a.expiresIn);let b=new Date(Date.now()+1e3*a.expiresIn);try{await ((a,b)=>{let c=(0,e.C9)(a);return l(c,JSON.stringify(b,null,2))})(p,{...c,accessToken:a.accessToken,expiresAt:b.toISOString(),refreshToken:a.refreshToken})}catch(a){}return{token:a.accessToken,expiration:b}}catch(a){return j(u),u}})({profile:s})();u={accessToken:a.token,expiresAt:new Date(a.expiration).toISOString()}}catch(a){throw new d.C1(a.message,{tryNextLink:!1,logger:t})}else try{u=await (0,e.vf)(a)}catch(a){throw new d.C1(`The SSO session associated with this profile is invalid. ${w}`,{tryNextLink:!1,logger:t})}if(new Date(u.expiresAt).getTime()-Date.now()<=0)throw new d.C1(`The SSO session associated with this profile has expired. ${w}`,{tryNextLink:!1,logger:t});let{accessToken:x}=u,{SSOClient:y,GetRoleCredentialsCommand:z}=await Promise.all([c.e(8842),c.e(9700)]).then(c.bind(c,39700)),A=p||new y(Object.assign({},q??{},{logger:q?.logger??r?.logger,region:q?.region??n}));try{v=await A.send(new z({accountId:h,roleName:o,accessToken:x}))}catch(a){throw new d.C1(a,{tryNextLink:!1,logger:t})}let{roleCredentials:{accessKeyId:B,secretAccessKey:C,sessionToken:D,expiration:E,credentialScope:F,accountId:G}={}}=v;if(!B||!C||!D||!E)throw new d.C1("SSO returns an invalid temporary credential.",{tryNextLink:!1,logger:t});let H={accessKeyId:B,secretAccessKey:C,sessionToken:D,expiration:new Date(E),...F&&{credentialScope:F},...G&&{accountId:G}};return b?(0,f.g)(H,"CREDENTIALS_SSO","s"):(0,f.g)(H,"CREDENTIALS_SSO_LEGACY","u"),H},o=(a={})=>async({callerClientConfig:b}={})=>{a.logger?.debug("@aws-sdk/credential-provider-sso - fromSSO");let{ssoStartUrl:c,ssoAccountId:f,ssoRegion:g,ssoRoleName:h,ssoSession:i}=a,{ssoClient:j}=a,k=(0,e.Bz)({profile:a.profile??b?.profile});if(c||f||g||h||i)if(c&&f&&g&&h)return n({ssoStartUrl:c,ssoSession:i,ssoAccountId:f,ssoRegion:g,ssoRoleName:h,ssoClient:j,clientConfig:a.clientConfig,parentClientConfig:a.parentClientConfig,profile:k});else throw new d.C1('Incomplete configuration. The fromSSO() argument hash must include "ssoStartUrl", "ssoAccountId", "ssoRegion", "ssoRoleName"',{tryNextLink:!1,logger:a.logger});{let b=(await (0,e.YU)(a))[k];if(!b)throw new d.C1(`Profile ${k} was not found.`,{logger:a.logger});if(!(a=>a&&("string"==typeof a.sso_start_url||"string"==typeof a.sso_account_id||"string"==typeof a.sso_session||"string"==typeof a.sso_region||"string"==typeof a.sso_role_name))(b))throw new d.C1(`Profile ${k} is not configured with SSO credentials.`,{logger:a.logger});if(b?.sso_session){let f=(await (0,e.qw)(a))[b.sso_session],h=` configurations in profile ${k} and sso-session ${b.sso_session}`;if(g&&g!==f.sso_region)throw new d.C1("Conflicting SSO region"+h,{tryNextLink:!1,logger:a.logger});if(c&&c!==f.sso_start_url)throw new d.C1("Conflicting SSO start_url"+h,{tryNextLink:!1,logger:a.logger});b.sso_region=f.sso_region,b.sso_start_url=f.sso_start_url}let{sso_start_url:f,sso_account_id:h,sso_region:i,sso_role_name:l,sso_session:m}=((a,b)=>{let{sso_start_url:c,sso_account_id:e,sso_region:f,sso_role_name:g}=a;if(!c||!e||!f||!g)throw new d.C1(`Profile is configured with invalid SSO credentials. Required parameters "sso_account_id", "sso_region", "sso_role_name", "sso_start_url". Got ${Object.keys(a).join(", ")}
Reference: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-sso.html`,{tryNextLink:!1,logger:b});return a})(b,a.logger);return n({ssoStartUrl:f,ssoSession:m,ssoAccountId:h,ssoRegion:i,ssoRoleName:l,ssoClient:j,clientConfig:a.clientConfig,parentClientConfig:a.parentClientConfig,profile:k})}}},99705:(a,b,c)=>{c.r(b),c.d(b,{SignatureV4:()=>ab,clearCredentialCache:()=>S,createScope:()=>Q,getCanonicalHeaders:()=>U,getCanonicalQuery:()=>X,getPayloadHash:()=>Y,getSigningKey:()=>R,moveHeadersToQuery:()=>_,prepareRequest:()=>aa}),c(53930);let d={},e={};for(let a=0;a<256;a++){let b=a.toString(16).toLowerCase();1===b.length&&(b=`0${b}`),d[a]=b,e[b]=a}function f(a){let b="";for(let c=0;c<a.byteLength;c++)b+=d[a[c]];return b}class g{constructor(a){if(this.bytes=a,8!==a.byteLength)throw Error("Int64 buffers must be exactly 8 bytes")}static fromNumber(a){if(a>0x8000000000000000||a<-0x8000000000000000)throw Error(`${a} is too large (or, if negative, too small) to represent as an Int64`);let b=new Uint8Array(8);for(let c=7,d=Math.abs(Math.round(a));c>-1&&d>0;c--,d/=256)b[c]=d;return a<0&&h(b),new g(b)}valueOf(){let a=this.bytes.slice(0),b=128&a[0];return b&&h(a),parseInt(f(a),16)*(b?-1:1)}toString(){return String(this.valueOf())}}function h(a){for(let b=0;b<8;b++)a[b]^=255;for(let b=7;b>-1&&(a[b]++,0===a[b]);b--);}class i{constructor(a,b){this.toUtf8=a,this.fromUtf8=b}format(a){let b=[];for(let c of Object.keys(a)){let d=this.fromUtf8(c);b.push(Uint8Array.from([d.byteLength]),d,this.formatHeaderValue(a[c]))}let c=new Uint8Array(b.reduce((a,b)=>a+b.byteLength,0)),d=0;for(let a of b)c.set(a,d),d+=a.byteLength;return c}formatHeaderValue(a){switch(a.type){case"boolean":return Uint8Array.from([+!a.value]);case"byte":return Uint8Array.from([2,a.value]);case"short":let b=new DataView(new ArrayBuffer(3));return b.setUint8(0,3),b.setInt16(1,a.value,!1),new Uint8Array(b.buffer);case"integer":let c=new DataView(new ArrayBuffer(5));return c.setUint8(0,4),c.setInt32(1,a.value,!1),new Uint8Array(c.buffer);case"long":let d=new Uint8Array(9);return d[0]=5,d.set(a.value.bytes,1),d;case"binary":let f=new DataView(new ArrayBuffer(3+a.value.byteLength));f.setUint8(0,6),f.setUint16(1,a.value.byteLength,!1);let h=new Uint8Array(f.buffer);return h.set(a.value,3),h;case"string":let i=this.fromUtf8(a.value),j=new DataView(new ArrayBuffer(3+i.byteLength));j.setUint8(0,7),j.setUint16(1,i.byteLength,!1);let k=new Uint8Array(j.buffer);return k.set(i,3),k;case"timestamp":let l=new Uint8Array(9);return l[0]=8,l.set(g.fromNumber(a.value.valueOf()).bytes,1),l;case"uuid":if(!s.test(a.value))throw Error(`Invalid UUID received: ${a.value}`);let m=new Uint8Array(17);return m[0]=9,m.set(function(a){if(a.length%2!=0)throw Error("Hex encoded strings must have an even number length");let b=new Uint8Array(a.length/2);for(let c=0;c<a.length;c+=2){let d=a.slice(c,c+2).toLowerCase();if(d in e)b[c/2]=e[d];else throw Error(`Cannot decode unrecognized sequence ${d} as hexadecimal`)}return b}(a.value.replace(/\-/g,"")),1),m}}parse(a){let b={},c=0;for(;c<a.byteLength;){let d=a.getUint8(c++),e=this.toUtf8(new Uint8Array(a.buffer,a.byteOffset+c,d));switch(c+=d,a.getUint8(c++)){case 0:b[e]={type:j,value:!0};break;case 1:b[e]={type:j,value:!1};break;case 2:b[e]={type:k,value:a.getInt8(c++)};break;case 3:b[e]={type:l,value:a.getInt16(c,!1)},c+=2;break;case 4:b[e]={type:m,value:a.getInt32(c,!1)},c+=4;break;case 5:b[e]={type:n,value:new g(new Uint8Array(a.buffer,a.byteOffset+c,8))},c+=8;break;case 6:let h=a.getUint16(c,!1);c+=2,b[e]={type:o,value:new Uint8Array(a.buffer,a.byteOffset+c,h)},c+=h;break;case 7:let i=a.getUint16(c,!1);c+=2,b[e]={type:p,value:this.toUtf8(new Uint8Array(a.buffer,a.byteOffset+c,i))},c+=i;break;case 8:b[e]={type:q,value:new Date(new g(new Uint8Array(a.buffer,a.byteOffset+c,8)).valueOf())},c+=8;break;case 9:let s=new Uint8Array(a.buffer,a.byteOffset+c,16);c+=16,b[e]={type:r,value:`${f(s.subarray(0,4))}-${f(s.subarray(4,6))}-${f(s.subarray(6,8))}-${f(s.subarray(8,10))}-${f(s.subarray(10))}`};break;default:throw Error("Unrecognized header type tag")}}return b}}!function(a){a[a.boolTrue=0]="boolTrue",a[a.boolFalse=1]="boolFalse",a[a.byte=2]="byte",a[a.short=3]="short",a[a.integer=4]="integer",a[a.long=5]="long",a[a.byteArray=6]="byteArray",a[a.string=7]="string",a[a.timestamp=8]="timestamp",a[a.uuid=9]="uuid"}(v||(v={}));let j="boolean",k="byte",l="short",m="integer",n="long",o="binary",p="string",q="timestamp",r="uuid",s=/^[a-f0-9]{8}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{4}-[a-f0-9]{12}$/;Symbol.asyncIterator,Symbol.asyncIterator,Symbol.asyncIterator,Symbol.asyncIterator;let t=a=>{if("function"==typeof a)return a;let b=Promise.resolve(a);return()=>b},u=a=>"function"==typeof ArrayBuffer&&a instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(a);var v,w=c(79428);let x=a=>{let b=((a,b)=>{if("string"!=typeof a)throw TypeError(`The "input" argument must be of type string. Received type ${typeof a} (${a})`);return b?w.Buffer.from(a,b):w.Buffer.from(a)})(a,"utf8");return new Uint8Array(b.buffer,b.byteOffset,b.byteLength/Uint8Array.BYTES_PER_ELEMENT)},y=a=>"string"==typeof a?x(a):ArrayBuffer.isView(a)?new Uint8Array(a.buffer,a.byteOffset,a.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(a),z=a=>((a,b=0,c=a.byteLength-b)=>{if(!u(a))throw TypeError(`The "input" argument must be ArrayBuffer. Received type ${typeof a} (${a})`);return w.Buffer.from(a,b,c)})(a.buffer,a.byteOffset,a.byteLength).toString("utf8"),A="X-Amz-Date",B="X-Amz-Signature",C="X-Amz-Security-Token",D="authorization",E=A.toLowerCase(),F=[D,E,"date"],G=B.toLowerCase(),H="x-amz-content-sha256",I=C.toLowerCase(),J={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},K=/^proxy-/,L=/^sec-/,M="AWS4-HMAC-SHA256",N="aws4_request",O={},P=[],Q=(a,b,c)=>`${a}/${b}/${c}/${N}`,R=async(a,b,c,d,e)=>{let g=await T(a,b.secretAccessKey,b.accessKeyId),h=`${c}:${d}:${e}:${f(g)}:${b.sessionToken}`;if(h in O)return O[h];for(P.push(h);P.length>50;)delete O[P.shift()];let i=`AWS4${b.secretAccessKey}`;for(let b of[c,d,e,N])i=await T(a,i,b);return O[h]=i},S=()=>{P.length=0,Object.keys(O).forEach(a=>{delete O[a]})},T=(a,b,c)=>{let d=new a(b);return d.update(y(c)),d.digest()},U=({headers:a},b,c)=>{let d={};for(let e of Object.keys(a).sort()){if(void 0==a[e])continue;let f=e.toLowerCase();(!(f in J||b?.has(f)||K.test(f)||L.test(f))||c&&(!c||c.has(f)))&&(d[f]=a[e].trim().replace(/\s+/g," "))}return d},V=a=>encodeURIComponent(a).replace(/[!'()*]/g,W),W=a=>`%${a.charCodeAt(0).toString(16).toUpperCase()}`,X=({query:a={}})=>{let b=[],c={};for(let d of Object.keys(a).sort()){if(d.toLowerCase()===G)continue;b.push(d);let e=a[d];"string"==typeof e?c[d]=`${V(d)}=${V(e)}`:Array.isArray(e)&&(c[d]=e.slice(0).sort().reduce((a,b)=>a.concat([`${V(d)}=${V(b)}`]),[]).join("&"))}return b.map(a=>c[a]).filter(a=>a).join("&")},Y=async({headers:a,body:b},c)=>{for(let b of Object.keys(a))if(b.toLowerCase()===H)return a[b];if(void 0==b)return"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855";if("string"==typeof b||ArrayBuffer.isView(b)||u(b)){let a=new c;return a.update(y(b)),f(await a.digest())}return"UNSIGNED-PAYLOAD"},Z=({headers:a,query:b,...c})=>({...c,headers:{...a},query:b?$(b):void 0}),$=a=>Object.keys(a).reduce((b,c)=>{let d=a[c];return{...b,[c]:Array.isArray(d)?[...d]:d}},{}),_=(a,b={})=>{let{headers:c,query:d={}}="function"==typeof a.clone?a.clone():Z(a);for(let a of Object.keys(c)){let e=a.toLowerCase();"x-amz-"!==e.slice(0,6)||b.unhoistableHeaders?.has(e)||(d[a]=c[a],delete c[a])}return{...a,headers:c,query:d}},aa=a=>{for(let b of Object.keys((a="function"==typeof a.clone?a.clone():Z(a)).headers))F.indexOf(b.toLowerCase())>-1&&delete a.headers[b];return a};class ab{constructor({applyChecksum:a,credentials:b,region:c,service:d,sha256:e,uriEscapePath:f=!0}){this.headerMarshaller=new i(z,x),this.service=d,this.sha256=e,this.uriEscapePath=f,this.applyChecksum="boolean"!=typeof a||a,this.regionProvider=t(c),this.credentialProvider=t(b)}async presign(a,b={}){let{signingDate:c=new Date,expiresIn:d=3600,unsignableHeaders:e,unhoistableHeaders:f,signableHeaders:g,signingRegion:h,signingService:i}=b,j=await this.credentialProvider();this.validateResolvedCredentials(j);let k=h??await this.regionProvider(),{longDate:l,shortDate:m}=ac(c);if(d>604800)return Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future");let n=Q(m,k,i??this.service),o=_(aa(a),{unhoistableHeaders:f});j.sessionToken&&(o.query[C]=j.sessionToken),o.query["X-Amz-Algorithm"]=M,o.query["X-Amz-Credential"]=`${j.accessKeyId}/${n}`,o.query[A]=l,o.query["X-Amz-Expires"]=d.toString(10);let p=U(o,e,g);return o.query["X-Amz-SignedHeaders"]=ad(p),o.query[B]=await this.getSignature(l,n,this.getSigningKey(j,k,m,i),this.createCanonicalRequest(o,p,await Y(a,this.sha256))),o}async sign(a,b){return"string"==typeof a?this.signString(a,b):a.headers&&a.payload?this.signEvent(a,b):a.message?this.signMessage(a,b):this.signRequest(a,b)}async signEvent({headers:a,payload:b},{signingDate:c=new Date,priorSignature:d,signingRegion:e,signingService:g}){let h=e??await this.regionProvider(),{shortDate:i,longDate:j}=ac(c),k=Q(i,h,g??this.service),l=await Y({headers:{},body:b},this.sha256),m=new this.sha256;m.update(a);let n=["AWS4-HMAC-SHA256-PAYLOAD",j,k,d,f(await m.digest()),l].join("\n");return this.signString(n,{signingDate:c,signingRegion:h,signingService:g})}async signMessage(a,{signingDate:b=new Date,signingRegion:c,signingService:d}){return this.signEvent({headers:this.headerMarshaller.format(a.message.headers),payload:a.message.body},{signingDate:b,signingRegion:c,signingService:d,priorSignature:a.priorSignature}).then(b=>({message:a.message,signature:b}))}async signString(a,{signingDate:b=new Date,signingRegion:c,signingService:d}={}){let e=await this.credentialProvider();this.validateResolvedCredentials(e);let g=c??await this.regionProvider(),{shortDate:h}=ac(b),i=new this.sha256(await this.getSigningKey(e,g,h,d));return i.update(y(a)),f(await i.digest())}async signRequest(a,{signingDate:b=new Date,signableHeaders:c,unsignableHeaders:d,signingRegion:e,signingService:f}={}){let g=await this.credentialProvider();this.validateResolvedCredentials(g);let h=e??await this.regionProvider(),i=aa(a),{longDate:j,shortDate:k}=ac(b),l=Q(k,h,f??this.service);i.headers[E]=j,g.sessionToken&&(i.headers[I]=g.sessionToken);let m=await Y(i,this.sha256);!((a,b)=>{for(let c of(a=a.toLowerCase(),Object.keys(b)))if(a===c.toLowerCase())return!0;return!1})(H,i.headers)&&this.applyChecksum&&(i.headers[H]=m);let n=U(i,d,c),o=await this.getSignature(j,l,this.getSigningKey(g,h,k,f),this.createCanonicalRequest(i,n,m));return i.headers[D]=`${M} Credential=${g.accessKeyId}/${l}, SignedHeaders=${ad(n)}, Signature=${o}`,i}createCanonicalRequest(a,b,c){let d=Object.keys(b).sort();return`${a.method}
${this.getCanonicalPath(a)}
${X(a)}
${d.map(a=>`${a}:${b[a]}`).join("\n")}

${d.join(";")}
${c}`}async createStringToSign(a,b,c){let d=new this.sha256;d.update(y(c));let e=await d.digest();return`${M}
${a}
${b}
${f(e)}`}getCanonicalPath({path:a}){if(this.uriEscapePath){let b=[];for(let c of a.split("/"))c?.length!==0&&"."!==c&&(".."===c?b.pop():b.push(c));return encodeURIComponent(`${a?.startsWith("/")?"/":""}${b.join("/")}${b.length>0&&a?.endsWith("/")?"/":""}`).replace(/%2F/g,"/")}return a}async getSignature(a,b,c,d){let e=await this.createStringToSign(a,b,d),g=new this.sha256(await c);return g.update(y(e)),f(await g.digest())}getSigningKey(a,b,c,d){return R(this.sha256,a,c,b,d||this.service)}validateResolvedCredentials(a){if("object"!=typeof a||"string"!=typeof a.accessKeyId||"string"!=typeof a.secretAccessKey)throw Error("Resolved credential object is not valid")}}let ac=a=>{let b=(a=>"number"==typeof a?new Date(1e3*a):"string"==typeof a?new Date(Number(a)?1e3*Number(a):a):a)(a).toISOString().replace(/\.\d{3}Z$/,"Z").replace(/[\-:]/g,"");return{longDate:b,shortDate:b.slice(0,8)}},ad=a=>Object.keys(a).sort().join(";")}};